---
title: E4X
slug: E4X
tags:
  - E4X
  - JXON
  - JavaScript
  - XML
translation_of: Archive/Web/E4X
---
<p></p><div class="overheadIndicator obsolete obsoleteHeader"><p><strong><span title="これは廃止されたAPIであり、今後の動作は保障されていません。ご注意下さい。"><i class="icon-trash"> </i></span> 廃止</strong><br>この機能は廃止されました。まだいくつかのブラウザーで動作するかもしれませんが、いつ削除されてもおかしくないので、使わないようにしましょう。</p></div><p></p>
<p></p><div class="warning warningHeader">
    <p><strong>警告:</strong> E4X は廃止されました。 この機能は、Firefox 17 において content 向けにはデフォルトで無効となり、Firefox 20 では chrome 向けにもデフォルトで無効となる予定です。 そして、Firefox 21 において削除される予定となっています。 代わりに、DOMParser/DOMSerializer や非ネイティブの JXON アルゴリズムを使用してください。</p>
</div><p></p>
<p><b>ECMAScript for XML</b> (<b>E4X</b>) は、ネイティブ <a href="/ja/docs/XML">XML</a> サポートを <a href="/ja/docs/JavaScript">JavaScript</a> に追加するプログラミング言語拡張です。これは ECMAScript プログラマにとって違和感がない形で XML 文書にアクセスできるようにするものです。<a href="/ja/docs/DOM">DOM</a> インタフェースを介するよりも簡潔な、XML 文書にアクセスするための新しい構文を実現することが目標です。</p>
<p>E4X は <a class="external" href="http://www.ecma-international.org/publications/standards/Ecma-357.htm">ECMA-357 標準</a>（2005 年 12 月現在、第二版）で Ecma International によって標準化されています。</p>
<p>E4X は <a href="/ja/docs/SpiderMonkey">SpiderMonkey</a>（<a href="/ja/docs/Gecko">Gecko</a> の JavaScript エンジン）および <a href="/ja/docs/Rhino">Rhino</a> (Java で書かれた JavaScript エンジン) で（少なくとも部分的に）実装されています。</p>
<div class="note">
  <b>注意：</b>Firefox 1.5 など、Gecko 1.8 ベースのブラウザでは、既にウェブページ作者向けに E4X が部分的に有効化されています。E4X を完全に有効化するには <code>&lt;script&gt;</code> 要素に "text/javascript;e4x=1" という MIME タイプを持たせる必要があります（すなわち <code>type="text/javascript;e4x=1"</code> という形式の属性を持たせる）。2 つのモードの違いは、"e4x=1" がない MIME タイプではあらゆるステートメントレベルの XML/HTML コメントリテラル (<code><span class="nowiki">&lt;!--...--&gt;</span></code>) が、スクリプト部分をコメントアウトする手法との後方互換性のために無視されることです。さらに CDATA セクション (<code>&lt;![CDATA[...]]&gt;</code>) は CDATA リテラルとしてパースされません（HTML の <code>&lt;script&gt;</code> 要素は暗黙の CDATA セクションを作りますが、そこには明示的な CDATA セクションを含めることができないため、これは HTML において JS 構文エラーを引き起こします ）。
  <p></p>
</div>
<h2 id="Known_bugs_and_limitations" name="Known_bugs_and_limitations">既知のバグと制限</h2>
<ul>
  <li>今のところ E4X を通じて DOM オブジェクトにアクセスすることができない (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=270553" title="E4x&lt;->DOM">バグ 270553</a>)</li>
  <li>E4X は XML 宣言 (<code>&lt;?xml version=...?&gt;</code>) のパースをサポートしていない (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=336551" title='E4X: Implement ability to process new XML("&amp;amp;lt;?xml...?> ...")'>バグ 336551</a>)。(XML が文字列であっても) 構文エラー "xml is a reserved identifier" が起こるでしょう。</li>
</ul>
<p>回避方法:</p>
<pre class="brush:js">var response = xmlhttprequest.responseText; // bug 270553

response.replace(/^&lt;\?xml\s+version\s*=\s*(["'])[^\1]+\1[^?]*\?&gt;/, ""); // bug 336551

var e4x = new XML(response);</pre>
<h2 id="Resources" name="Resources">資料</h2>
<ul>
  <li><a href="/ja/docs/E4X_Tutorial">E4X チュートリアル</a></li>
  <li>MDC の <a href="/ja/docs/JavaScript/Guide/Processing_XML_with_E4X">Processing XML with E4X</a>。</li>
  <li>MDC の <a>E4X 関連ページ</a>のリストを参照。</li>
  <li><a class="external" href="http://www.ecma-international.org/publications/standards/Ecma-357.htm">ECMA-357 標準</a> 【訳注: <a class="external" href="http://www.ne.jp/asahi/nanto/moon/specs/ecma-357.html">nanto_vi 氏による私的日本語訳</a>】</li>
  <li><a class="external" href="http://developer.mozilla.org/presentations/xtech2005/e4x/">Brendan's presentation</a></li>
  <li><a class="external" href="http://www.faqts.com/knowledge_base/index.phtml/fid/1762">faqts.com の E4X 関連ページ</a></li>
  <li><a class="external" href="http://rephrase.net/days/07/06/e4x">E4X quick reference at rephrase.net</a></li>
</ul>
<h2 id="See_also" name="See_also">関連情報</h2>
<ul>
  <li><a class="internal" href="/ja/docs/JXON" title="ja/docs/JXON">JXON</a></li>
  <li><a class="internal" href="/ja/docs/XPath" title="ja/docs/XPath">XPath</a></li>
  <li><a class="internal" href="/ja/docs/XML" title="ja/docs/XML">XML</a></li>
  <li><a class="internal" href="/ja/docs/Parsing_and_serializing_XML" title="ja/docs/Parsing_and_serializing_XML">Parsing and serializing XML</a></li>
</ul>
