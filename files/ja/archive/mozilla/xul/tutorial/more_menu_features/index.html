---
title: より高度なメニュー機能
slug: Archive/Mozilla/XUL/Tutorial/More_Menu_Features
tags:
  - Tutorials
  - XUL
  - XUL_Tutorial
translation_of: Archive/Mozilla/XUL/Tutorial/More_Menu_Features
---
<div>
  <div class="prevnext" style="text-align: right;">
    <p><a href="/ja/docs/XUL_Tutorial:Simple_Menu_Bars" style="float: left;">« 前のページ</a><a href="/ja/docs/XUL_Tutorial:Popup_Menus">次のページ  »</a></p>
</div></div>
<p>このセクションでは、サブメニューとチェック付きメニューの作り方を見て行きます。</p>
<p><span id="Creating_Submenus"></span></p>
<h3 id=".E3.82.B5.E3.83.96.E3.83.A1.E3.83.8B.E3.83.A5.E3.83.BC.E3.81.AE.E4.BD.9C.E6.88.90" name=".E3.82.B5.E3.83.96.E3.83.A1.E3.83.8B.E3.83.A5.E3.83.BC.E3.81.AE.E4.BD.9C.E6.88.90">サブメニューの作成</h3>
<p>ここまでに説明した要素を使って、他のメニューを入れ子にした、サブメニューを作ることが可能です。 <code><code><a href="/ja/docs/Mozilla/Tech/XUL/menupopup" title="menupopup">menupopup</a></code></code> の中には、任意の要素を配置可能であることを思い出してください。 <code><code><a href="/ja/docs/Mozilla/Tech/XUL/menupopup" title="menupopup">menupopup</a></code></code> の中に、<code><code><a href="/ja/docs/Mozilla/Tech/XUL/menuitem" title="menuitem">menuitem</a></code></code> と <code><code><a href="/ja/docs/Mozilla/Tech/XUL/menuseparator" title="menuseparator">menuseparator</a></code></code> を配置する場合については、前のセクションで説明していますが、 サブメニューを作る場合は、<code><code><a href="/ja/docs/Mozilla/Tech/XUL/menupopup" title="menupopup">menupopup</a></code></code> 要素の中に 、単に <code><code><a href="/ja/docs/Mozilla/Tech/XUL/menu" title="menu">menu</a></code></code> 要素を配置するだけで可能です。 この記述は、<code><code><a href="/ja/docs/Mozilla/Tech/XUL/menu" title="menu">menu</a></code></code> 要素が、<code><code><a href="/ja/docs/Mozilla/Tech/XUL/menubar" title="menubar">menubar</a></code></code> の中に直接配置されていない場合も有効なことからも問題なく動作することが分かると思います。</p>
<p>以下に、File メニューの中に簡単なサブメニューを作成する例を示します。</p>
<p><span id="%E4%BE%8B_1"><a id="%E4%BE%8B_1"></a><strong>例 1</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/ex_advmenu_1.xul.txt">ソース</a> <a href="https://developer.mozilla.org/samples/xultu/examples/ex_advmenu_1.xul">表示</a></p>
<div class="float-right">
  <img alt="画像:menubar-ex3.png" src="/@api/deki/files/757/=Menubar-ex3.png"></div>
<pre>&lt;toolbox flex="1"&gt;
  &lt;menubar id="sample-menubar"&gt;
    &lt;menu id="file-menu" label="File"&gt;
      &lt;menupopup id="file-popup"&gt;
        &lt;menu id="new-menu" label="New"&gt;
          &lt;menupopup id="new-popup"&gt;
            &lt;menuitem label="Window"/&gt;
            &lt;menuitem label="Message"/&gt;
          &lt;/menupopup&gt;
        &lt;/menu&gt;
        &lt;menuitem label="Open"/&gt;
        &lt;menuitem label="Save"/&gt;
        &lt;menuseparator/&gt;
        &lt;menuitem label="Exit"/&gt;
      &lt;/menupopup&gt;
    &lt;/menu&gt;
  &lt;/menubar&gt;
&lt;/toolbox&gt;
</pre>
<p><span id="Adding_a_menu_to_our_Find_Files_example"></span></p>
<h3 id=".E3.83.95.E3.82.A1.E3.82.A4.E3.83.AB.E6.A4.9C.E7.B4.A2.E3.83.80.E3.82.A4.E3.82.A2.E3.83.AD.E3.82.B0.E3.81.AB.E3.83.A1.E3.83.8B.E3.83.A5.E3.83.BC.E3.82.92.E8.BF.BD.E5.8A.A0" name=".E3.83.95.E3.82.A1.E3.82.A4.E3.83.AB.E6.A4.9C.E7.B4.A2.E3.83.80.E3.82.A4.E3.82.A2.E3.83.AD.E3.82.B0.E3.81.AB.E3.83.A1.E3.83.8B.E3.83.A5.E3.83.BC.E3.82.92.E8.BF.BD.E5.8A.A0">ファイル検索ダイアログにメニューを追加</h3>
<div class="highlight">
  <p>それでは、ファイル検索ダイアログにメニューを追加してみましょう。 File メニューと Edit メニューに、簡単な<span style="border-bottom: 1px dashed green;" title="command">操作項目</span>をいくつか追加してみます。 追加する内容は、上の例と似たものになります。</p>
  <pre class="eval">&lt;toolbox&gt;

 <span class="highlightred">&lt;menubar id="findfiles-menubar"&gt;
  &lt;menu id="file-menu" label="File" accesskey="f"&gt;
    &lt;menupopup id="file-popup"&gt;
      &lt;menuitem label="Open Search..." accesskey="o"/&gt;
      &lt;menuitem label="Save Search..." accesskey="s"/&gt;
      &lt;menuseparator/&gt;
      &lt;menuitem label="Close" accesskey="c"/&gt;
    &lt;/menupopup&gt;
  &lt;/menu&gt;
  &lt;menu id="edit-menu" label="Edit" accesskey="e"&gt;
    &lt;menupopup id="edit-popup"&gt;
      &lt;menuitem label="Cut" accesskey="t"/&gt;
      &lt;menuitem label="Copy" accesskey="c"/&gt;
      &lt;menuitem label="Paste" accesskey="p" disabled="true"/&gt;
    &lt;/menupopup&gt;
  &lt;/menu&gt;
 &lt;/menubar&gt;</span>

&lt;toolbar id="findfiles-toolbar&gt;
</pre>
  <p><img alt="画像:menubar1.png" src="https://developer.mozilla.org/@api/deki/files/759/=Menubar1.png"></p>
  <p>ここでは、いくつかの操作項目を持った、2 つのメニューを追加しています。 まず、<code><code><a href="/ja/docs/Mozilla/Tech/XUL/toolbox" title="toolbox">toolbox</a></code></code> の中に <code><code><a href="/ja/docs/Mozilla/Tech/XUL/menubar" title="menubar">menubar</a></code></code> が追加されていることを確認してください。 ここで、操作項目「Open Search」と「Save Search」で続いて置かれている 3 つのドットは、利用者に、その操作項目を選ぶとダイアログが開くことを示すための一般的は表記方法になります。 また、それぞれのメニューとメニュー項目にはアクセスキーが追加されています。 画像から、メニューラベルでアクセスキーに該当する文字に下線が引かれていることがわかると思います。 また、なにも貼り付けるものがないと仮定して、Paste 操作は無効にしてあります。</p>
  <p><span id="%E3%81%93%E3%81%93%E3%81%BE%E3%81%A7%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E6%A4%9C%E7%B4%A2%E3%83%80%E3%82%A4%E3%82%A2%E3%83%AD%E3%82%B0%E3%81%AE%E4%BE%8B"><a id="%E3%81%93%E3%81%93%E3%81%BE%E3%81%A7%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E6%A4%9C%E7%B4%A2%E3%83%80%E3%82%A4%E3%82%A2%E3%83%AD%E3%82%B0%E3%81%AE%E4%BE%8B"></a><strong>ここまでのファイル検索ダイアログの例</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/findfile/findfile-advmenu.xul.txt">ソース</a> <a href="https://developer.mozilla.org/samples/xultu/examples/findfile/findfile-advmenu.xul">表示</a></p>
</div>
<p><span id="Adding_Checkmarks_to_Menus"></span></p>
<h3 id=".E3.83.81.E3.82.A7.E3.83.83.E3.82.AF.E3.83.9E.E3.83.BC.E3.82.AF.E3.82.92.E3.83.A1.E3.83.8B.E3.83.A5.E3.83.BC.E3.81.AB.E8.BF.BD.E5.8A.A0" name=".E3.83.81.E3.82.A7.E3.83.83.E3.82.AF.E3.83.9E.E3.83.BC.E3.82.AF.E3.82.92.E3.83.A1.E3.83.8B.E3.83.A5.E3.83.BC.E3.81.AB.E8.BF.BD.E5.8A.A0">チェックマークをメニューに追加</h3>
<p>多くのアプリケーションでは、メニュー項目にチェックをつけることが可能です。 例えば、操作項目のテキストの横に、チェックがついてる場合は有効になり、チェックがついてない場合は無効になるような機能があげられます。 このメニューは、利用者がメニューを選択したときに、チェックの状態が切り替わります。 同じように、メニュー項目にラジオボタンを作りたいと思うことがあるかもしれません。</p>
<p>メニューのチェックは <code><code><a href="/ja/docs/Mozilla/Tech/XUL/checkbox" title="checkbox">checkbox</a></code></code> 要素や <code><code><a href="/ja/docs/Mozilla/Tech/XUL/radio" title="radio">radio</a></code></code> 要素と同じように作成します。 まず 2 つの属性、<code><a href="ja/XUL/Attribute/button.type">type</a></code> と、<code><a href="ja/XUL/Attribute/menuitem.name">name</a></code> が必要となります。 <code><a href="ja/XUL/Attribute/button.type">type</a></code> は、チェックのタイプを指示し、<code><a href="ja/XUL/Attribute/menuitem.name">name</a></code> は、コマンドをまとめてグループ化するために使用します。 以下の例は、チェックつきの項目を持つメニューを作成します。</p>
<p><span id="%E4%BE%8B_2"><a id="%E4%BE%8B_2"></a><strong>例 2</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/ex_advmenu_2.xul.txt">ソース</a> <a href="https://developer.mozilla.org/samples/xultu/examples/ex_advmenu_2.xul">表示</a></p>
<pre>&lt;toolbox&gt;
  &lt;menubar id="options-menubar"&gt;
    &lt;menu id="options_menu" label="Options"&gt;
      &lt;menupopup&gt;
        &lt;menuitem id="backups" label="Make Backups" type="checkbox"/&gt;
        &lt;menuitem id="backups" label="Email Administrator" type="checkbox" checked="true"/&gt;
      &lt;/menupopup&gt;
    &lt;/menu&gt;
  &lt;/menubar&gt;
&lt;/toolbox&gt;
</pre>
<p><code><a href="ja/XUL/Attribute/button.type">type</a></code> 属性を、メニュー項目 (<code><code><a href="/ja/docs/Mozilla/Tech/XUL/menuitem" title="menuitem">menuitem</a></code></code>) をチェック可能にするために追加しています。 この属性の値を <code>checkbox</code> に設定すると、メニュー項目は選択するごとにチェックのオンとオフが切り替わります。</p>
<p><span id="Menu_with_radios"></span></p>
<h4 id=".E3.83.A9.E3.82.B8.E3.82.AA.E3.83.9C.E3.82.BF.E3.83.B3.E5.9E.8B.E3.81.AE.E3.83.A1.E3.83.8B.E3.83.A5.E3.83.BC" name=".E3.83.A9.E3.82.B8.E3.82.AA.E3.83.9C.E3.82.BF.E3.83.B3.E5.9E.8B.E3.81.AE.E3.83.A1.E3.83.8B.E3.83.A5.E3.83.BC">ラジオボタン型のメニュー</h4>
<p>基本的なチェックに加えて、<code><a href="ja/XUL/Attribute/button.type">type</a></code> の値に <code>radio</code> と設定することで、ラジオボタン型のチェックを作ることができます。 ラジオボタン型のチェックは、メニュー項目のグループのうち、1 つの項目だけがチェックされるようにするために使用します。 例としては、複数のフォントから利用したい 1 つのフォントを選択するような、フォントメニューを挙げることができます。 ラジオボタン型では、違うメニュー項目を選択したとき、前に選択されていた項目のチェックは自動的に外されます。</p>
<p>メニュー項目を、まとめてグループ化するためには、<code><a href="ja/XUL/Attribute/menuitem.name">name</a></code> 属性をグループ化する <code><code><a href="/ja/docs/Mozilla/Tech/XUL/menuitem" title="menuitem">menuitem</a></code></code> 要素に置く必要があります。 <code><a href="ja/XUL/Attribute/menuitem.name">name</a></code> 属性の値には同じ文字列を指定します。 以下に、ラジオボタン型のメニューの実例を示します。</p>
<p><span id="%E4%BE%8B_3"><a id="%E4%BE%8B_3"></a><strong>例 3</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/ex_advmenu_3.xul.txt">ソース</a> <a href="https://developer.mozilla.org/samples/xultu/examples/ex_advmenu_3.xul">表示</a></p>
<pre>&lt;toolbox&gt;
  &lt;menubar id="planets-menubar"&gt;
    &lt;menu id="planet-menu" label="Planet"&gt;
      &lt;menupopup&gt;
        &lt;menuitem id="jupiter" label="Jupiter" type="radio" name="ringed"/&gt;
        &lt;menuitem id="saturn" label="Saturn" type="radio" name="ringed" checked="true"/&gt;
        &lt;menuitem id="uranus" label="Uranus" type="radio" name="ringed"/&gt;
        &lt;menuseparator/&gt;
        &lt;menuitem id="earth" label="Earth" type="radio" name="inhabited" checked="true"/&gt;
        &lt;menuitem id="moon" label="Moon" type="radio" name="inhabited"/&gt;
      &lt;/menupopup&gt;
    &lt;/menu&gt;
  &lt;/menubar&gt;
&lt;/toolbox&gt;
</pre>
<p>この例を試してみることによって、最初の 3 つのメニュー項目のうち、1 つだけがチェックできることが確認できるはずです。 これらは、全て同じ <code><a href="ja/XUL/Attribute/menuitem.name">name</a></code> 属性を持っているため、まとめてグループ化されています。 その後のメニュー項目である「Earth」もラジオボタン型ですが、<code><a href="ja/XUL/Attribute/menuitem.name">name</a></code> 属性に違う値が設定されているため、グループに含まれていません。</p>
<p>当然ですが、グループ化する項目は、すべて同じメニューに置く必要があります。 なお (できなくても問題になる状況はあまりないとは思いますが) グループ化するそれぞれのメニュー項目が、互いに隣接している必要はありません。</p>
<p>次のセクションでは、ポップアップメニューの作り方を見て行きます。</p>
<div>
  <div class="prevnext" style="text-align: right;">
    <p><a href="/ja/docs/XUL_Tutorial:Simple_Menu_Bars" style="float: left;">« 前のページ</a><a href="/ja/docs/XUL_Tutorial:Popup_Menus">次のページ  »</a></p>
</div></div>
