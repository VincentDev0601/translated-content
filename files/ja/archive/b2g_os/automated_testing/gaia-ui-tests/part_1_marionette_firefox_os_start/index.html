---
title: 'パート 1: Marionette と Firefox OS を開始する'
slug: >-
  Archive/B2G_OS/Automated_testing/gaia-ui-tests/Part_1_Marionette_Firefox_OS_start
tags:
  - Automation
  - Firefox OS
  - Gaia
  - Python
  - gaia-ui-test
  - tests
translation_of: >-
  Archive/B2G_OS/Automated_testing/gaia-ui-tests/Part_1_Marionette_Firefox_OS_start
---
<p></p><section class="Quick_links" id="Quick_Links">

<ol>
  <li class="toggle">
      <details>
          <summary>Build and install</summary>
          <ol>
            <li><strong><a href="/ja/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS">Build and install overview</a></strong></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/B2G_OS_build_process_summary">B2G OS build process summary</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/B2G_OS_build_prerequisites">Build prerequisites</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Preparing_for_your_first_B2G_build">Preparing for your first build</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Building">Building B2G OS</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/B2G_installer_add-on">B2G installer add-on</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/Building_for_Flame_on_OS_X">Building B2G OS for Flame on Mac OS X</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Choosing_how_to_run_Gaia_or_B2G">Choosing how to run Gaia or B2G OS</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/Compatible_Devices">Compatible Devices</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Installing_on_a_mobile_device">Installing B2G OS on a mobile device</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/B2G_OS_update_packages">Creating and applying B2G OS update packages</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Building/FOTA_community_builds">Building and installing FOTA community builds</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/B2G_Build_Variables_Reference_Sheet">B2G build variables reference sheet</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>Porting B2G OS</summary>
          <ol>
            <li><strong><a href="/ja/docs/Mozilla/B2G_OS/Porting_B2G_OS">Porting overview</a></strong></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Porting_B2G_OS/basics">Porting basics</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Porting_B2G_OS/Porting_on_CyanogenMod">Porting on CyanogenMod</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>Developing Gaia</summary>
          <ol>
            <li><strong><a href="/ja/docs/Mozilla/B2G_OS/Developing_Gaia">Developing Gaia overview</a></strong></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Developing_Gaia/Running_the_Gaia_codebase">Running the Gaia codebase</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Mulet">Run Gaia on desktop using Mulet</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Developing_Gaia/Understanding_the_Gaia_codebase">Understanding the Gaia codebase</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Developing_Gaia/Making_Gaia_code_changes">Making Gaia code changes</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Developing_Gaia/Testing_Gaia_code_changes">Testing Gaia code changes</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Developing_Gaia/Submitting_a_Gaia_patch">Submitting a Gaia patch</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Developing_Gaia/Build_System_Primer">Gaia build system primer</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Developing_Gaia/Different_ways_to_run_Gaia">Different ways to run Gaia</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Developing_Gaia/make_options_reference">Make options reference</a></li>
            <li><a href="/ja/docs/Mozilla/B2G_OS/Developing_Gaia/Gaia_tools_reference">Gaia tools reference</a></li>
          </ol>
      </details>
  </li>
  <li><a href="/ja/docs/Mozilla/B2G_OS/API">B2G OS APIs</a></li>
</ol>
</section><p></p>

<p></p><div class="prevnext" style="text-align: right;">
    <p><a href="/ja/docs/Mozilla/Firefox_OS/Platform/Automated_testing/gaia-ui-tests" style="float: left;">« 前のページ</a><a href="/ja/docs/Mozilla/Firefox_OS/Platform/Automated_testing/gaia-ui-tests/Part_2_Marionette_Firefox_OS_interactions">次のページ  »</a></p>
</div><p></p>

<div class="summary">
<p><span class="seoSummary">このチュートリアルシリーズは、<a href="/docs/Mozilla/QA/Marionette">Marionette</a>(お使いのコンピュータ上で実行される自動化パッケージ)を使用してFirefox OSの自動UIテストを記述し、実行することが軌道に乗ることを目指します。Marionette はGeckoベースのプラットフォームでテストを実行するコマンドを発行します。この特定の記事では、テスト実行を開始する前に行う必要がある設定を一通り行います。</span></p>
</div>

<p>チュートリアルシリーズでは自動テストの概念を一通り見て、またFirefox OS(かなり有用な<a href="/Firefox_OS/Using_the_B2G_desktop_client">B2G Desktop</a>テストツール含みます)とMarionetteとの動作を紹介します。 時折、独自の解決策を模索することを奨励するための課題が含まれます。</p>

<div class="note">
<p><strong>注意</strong>: チュートリアルでは、Mozilla製品に固有のものではありません; 例えば、HTML5のアプリを開発している場合は、テストフレームワークを構築するために、このチュートリアルを使用することができます。</p>
</div>

<h2 id="このチュートリアルに対するソフトウェア要求">このチュートリアルに対するソフトウェア要求</h2>

<p>チュートリアルで以下のソフトウェアをインストールして、使用します。:</p>

<ul>
 <li>Python 2.7</li>
 <li>pip installer</li>
 <li>A text editor or IDE to write code in</li>
 <li>The Boot2Gecko desktop client (Firefox OS)</li>
 <li>The Marionette client (WebDriver client for Firefox OS)</li>
</ul>

<h2 id="Python_と_pip">Python と pip</h2>

<p>Linuxのような一部のオペレーティングシステムはプリインストールのPythonが付属します。 Pythonのをインストールする前に、すでにそれがインストールされていないことを確認してください。コマンドラインまたは端末から、こう実行してください:</p>

<pre class="brush: bash">python --version</pre>

<p>Pythonのの2.6.xまたは2.7.xのすべてのバージョンは、このチュートリアルのための申し分ありません。Python2.7がインストールされていない場合は、<a href="https://www.python.org/download/releases/2.7.6/">Python release site</a>でインストーラを見つけることができます。</p>

<p>Pip はPythonのツールをインストールするために使用され、Marionetteをインストールするにはこれが必要です。端末またはコマンドラインに<code> pip と</code>入力することで、pip がインストールされているかどうか確認することができます。ピップをインストールするには、<a href="http://pip.readthedocs.org/en/latest/installing.html">pip documentation</a>での指示に従ってください。</p>

<h2 id="B2G_Desktop">B2G Desktop</h2>

<p>B2Gデスクトップクライアントを使用すると、Gaia (Firefox OSの UI) と、デスクトップまたはラップトップコンピュータ上のFirefoxのOSアプリを実行することができます。 デスクトップクライアントにはいくつかの制限があります — それはカメラ、バッテリー、などのデバイスのハードウェアをエミュレートしていません — しかし、それはこのチュートリアルでの目的にとっては完璧でしょう。次にこれをインストールしましょう。</p>

<p><a href="http://nightly.mozilla.org/">Firefox Nightly site</a>から最新B2Gデスクトップをダウンロードしてください。(一番下の Desktop Boot2Gecko を見てください) B2Gデスクトップをダウンロードしたら、コンピュータ上のフォルダに内容を抽出します。FirefoxのOSシミュレータを起動するには、お使いのOSに適切な<strong> b2g </strong>スクリプトファイルを実行します。:</p>

<ul>
 <li><strong>Linux</strong>: それを抽出したフォルダに移動し、こう実行します <code>./b2g</code></li>
 <li><strong>Mac</strong>: アプリケーションフォルダにB2G.appをドラッグアンドドロップし、そこから実行します。</li>
 <li><strong>Windows</strong>: zipファイルを抽出したディレクトリ内からb2g.exeを実行します。</li>
</ul>

<p>アプリケーションが起動したら、このようなウィンドウが表示されるはずです:</p>

<p><img alt="A welcome screen for Firefox OS - says welcome in multiple languages" src="https://mdn.mozillademos.org/files/7207/b2g-start-screen.png" style="display: block; height: 509px; margin: 0px auto; width: 322px;"></p>

<p>Firefox OSのホームスクリーンに到達するまで、初回の使用上の手順に従ってください。次の非常に有用なキーボードコマンドを使って、携帯電話のハードウェアボタンをエミュレートできることに注意してください。(例えば、 ホームを押すと、スリープからの電話を復帰します。)</p>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="row">
    <p> </p>
   </th>
   <th scope="col">
    <p>Windows/Linux キーボード</p>
   </th>
   <th scope="col">
    <p>Mac OS キーボード</p>
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <th scope="row">
    <p>ホームボタン</p>
   </th>
   <td>
    <p>Home</p>
   </td>
   <td>
    <p>Fn+左矢印</p>
   </td>
  </tr>
  <tr style="height: 0px;">
   <th scope="row">
    <p>電源ボタン</p>
   </th>
   <td>
    <p>End</p>
   </td>
   <td>
    <p>Fn+右矢印</p>
   </td>
  </tr>
  <tr>
   <th scope="row">
    <p>音量 +/-</p>
   </th>
   <td>
    <p>Page up/page down</p>
   </td>
   <td>
    <p>Fn+ 上/下 矢印</p>
   </td>
  </tr>
 </tbody>
</table>

<p>この時点では、B2Gデスクトップを開いたまま残すことができ、側にウィンドウを移動します。次に、Marionetteがインストールされると作業完了です。</p>

<h2 id="Marionette">Marionette</h2>

<p>Marionetteは、2つの部分から構成されています。つまりクライアント (ラップトップ上で操作するもの) とサーバ (Firefox OS内で操作するもの)です。操り人形師のように、Marionette サーバで直接Firefox OSを制御できます。</p>

<p><img alt="marionette architecture showing marionette server inside Firefox OS and marionette client on its own outside" src="https://mdn.mozillademos.org/files/7223/marionette-basic-diagram.png" style="display: block; height: 186px; margin: 0px auto; width: 352px;"></p>

<p>いまはデスクトップB2Gクライアントを使用しているので、Marionetteサーバがプリインストールされています(実デバイス用のFirefox OSのエンジニアリング構成のビルドを使用している場合も同様です)。 ただしFirefoxのOSを制御する前に、ローカルコンピュータ上にMarionetteのクライアントをインストールする必要があります。これは、ターミナルで次のコマンドを実行することによって行われます:</p>

<pre class="brush: bash">pip install marionette_client</pre>

<p>今のところここまでです。セットアップ済みで、発進の準備ができています！</p>

<p> </p>

<div id="divLookup" style="background-color: transparent; color: #000000; position: absolute; top: 1308px; left: 106px; padding: 0px; border-radius: 2px;"><img></div>
