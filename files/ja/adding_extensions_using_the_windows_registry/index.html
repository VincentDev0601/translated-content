---
title: Windowsレジストリを使って拡張機能を追加する
slug: Adding_Extensions_using_the_Windows_Registry
tags:
  - Add-ons
  - Extensions
translation_of: >-
  https://extensionworkshop.com/documentation/publish/signing-and-distribution-overview/
---
<p> </p>
<p>{{ 英語版章題("Introduction") }}</p>
<h3 id=".E3.81.AF.E3.81.98.E3.82.81.E3.81.AB">はじめに</h3>
<p>この文書は、Windowsレジストリを使ってFirefoxとThunderbirdの<a href="/ja/Extensions" title="ja/Extensions">拡張機能</a>を「インストール」するための方法を説明しています。この機能はサードパーティ製のインストーラが拡張機能をFirefoxとThunderbirdに対して簡単に登録できるようにするために設計されています。</p>
<p><strong>註</strong> このドキュメントで解説されている機能はFirefox/Thunderbird 1.5以降でのみ利用できます。</p>
<p>{{ 英語版章題("Installation") }}</p>
<h3 id=".E3.82.A4.E3.83.B3.E3.82.B9.E3.83.88.E3.83.BC.E3.83.AB">インストール</h3>
<p>インストールは以下のキー以下のレジストリエントリの記入によって行われます。：</p>
<pre class="eval">HKEY_CURRENT_USER\Software\<em>ベンダ</em>\<em>名前</em>\Extensions
HKEY_LOCAL_MACHINE\Software\<em>ベンダ</em>\<em>名前</em>\Extensions
</pre>
<p><em>ベンダ</em>と<em>名前</em>は、<a href="/ja/NsIXULAppInfo" title="ja/NsIXULAppInfo">nsIXULAppInfo</a>のプロパティが返す値と一致する文字列です。Mozilla製品では、<em>ベンダ</em>は「Mozilla」で、<em>名前</em>は製品の短い名前です。例：</p>
<pre class="eval">HKEY_CURRENT_USER\Software\Mozilla\Firefox\Extensions
HKEY_CURRENT_USER\Software\Mozilla\Thunderbird\Extensions
</pre>
<p>拡張機能の<a href="/ja/Install_Manifests#id" title="ja/Install_Manifests#id">ID</a>がレジストリエントリの名前として用いられる必要があります。レジストリエントリは<code>REG_SZ</code>型でなくてはならず、その値はその拡張機能を含んでいるフォルダ（つまり、XPIが展開された場所）の絶対パスでなくてはなりません。例えば、<a href="/ja/Building_an_Extension" title="ja/Building_an_Extension">拡張機能を開発する</a>の項で説明されている拡張機能をインストールするには、名前が<code><a class=" link-mailto" href="mailto:sample@foo.net">sample@foo.net</a></code>で値が<code>c:\extensions\myExtension</code>のレジストリエントリを作成します。</p>
<p>レジストリエントリが作成された後、Firefox/Thunderbirdは次回起動時にその変更に気がつきます。Firefox/Thunderbirdが起動中にレジストリキーを変更しても安全です。</p>
<p>もし同じ拡張機能が<code>HKEY_CURRENT_USER</code>以下と<code>HKEY_LOCAL_MACHINE</code>以下の両方に登録されていた場合、<code>HKEY_CURRENT_USER</code>以下のインスタンスが利用されます。（手動インストールなどによって）ユーザのプロファイルディレクトリ内に同じ拡張機能がある場合には、レジストリ内にあるいかなるインスタンスよりも、そちらの方が優先されます。</p>
<p>{{ 英語版章題("Uninstallation") }}</p>
<h3 id=".E3.82.A2.E3.83.B3.E3.82.A4.E3.83.B3.E3.82.B9.E3.83.88.E3.83.BC.E3.83.AB">アンインストール</h3>
<p>Windowsレジストリを使ってインストールされた拡張機能は、そのレジストリエントリをただ削除するだけでアンインストールすることができます。レジストリエントリが削除された後、Firefox/Thunderbirdは次回起動時にその変更に気がつきます。Firefox/Thunderbirdが起動中にレジストリキーを変更しても安全です。</p>
<p>{{ 英語版章題("See also") }}</p>
<h3 id="更新">更新</h3>
<p>Firefox は再起同時に <code>install.rdf</code> に対する変更を自動的には検出しません。これは、<code>install.rdf</code> の内容を確認する前にアドオンがインストールされているディレクトリの最終更新日時を確認するせいです。Firefox に <code>install.rdf</code> の変更を強制的に通知するには、ディレクトリを削除して作り直すか、ディレクトリの最終更新日時を更新して下さい。</p><h3 id=".E5.8F.82.E7.85.A7">参照</h3>
<ul> <li><a href="/ja/Extension_Packaging" title="ja/Extension_Packaging">拡張機能のパッケージング</a></li> <li><a class="internal" href="/ja/Installing_extensions" title="ja/Installing extensions">拡張機能のインストール</a></li>
</ul>
<p>{{ languages( { "en": "en/Adding_Extensions_using_the_Windows_Registry", "zh-cn": "cn/Adding_Extensions_using_the_Windows_Registry", "zh-tw": "zh_tw/\u4ee5_Windows_\u767b\u9304\u78bc\u5b89\u88dd\u64f4\u5145\u5957\u4ef6" } ) }}</p>
