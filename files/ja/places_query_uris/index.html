---
title: Places query URIs
slug: Places_query_URIs
tags:
  - Developing Mozilla
  - Extensions
  - Firefox 3
  - Places
translation_of: Mozilla/Tech/Places/Places_query_URIs
---
<p></p>
<p>この記事は <code>place</code> URI を生成するときに使用できるパラメータについて説明します。これらの URI は Places のクエリを実行します。</p>
<p><code>place</code> URI をブックマークとして使用できます。例えば、ツールバーを右クリックして「新しいブックマーク」をクリックすると、そこに <code>place</code> URI を入力できます。それはツールバーに新しいクエリを生成し、クリックするとクエリーの結果を含むポップアップが現れます。</p>
<p>以下の <code>place</code> URI は Firefox 3を最初に起動したときに生成されるデフォルトのスマートブックマークセットの「よく見るページ」スマートブックマークを実現します。</p>
<pre class="eval">place:queryType=0&amp;sort=8&amp;maxResults=10
</pre>
<p>このクエリで使用されているパラメータは以下のとおりです：</p>
<dl> <dt><code>queryType=0</code></dt> <dd>これはクエリはユーザの履歴だけに適用されブックマークには適用されないことを示します。</dd> <dt><code>sort=8</code></dt> <dd><code>sort</code> はクエリ結果が訪問回数に基づいて降順にソートされて表示されることを示します。言い換えると、最も多く訪問したものが最初に、少ないものが最後になります。</dd> <dt><code>maxResults=10</code></dt> <dd>このパラメータはクエリの結果は最大で10個になることを示します。</dd>
</dl>
<p>このクエリを今日訪問したものだけを表示するようにしたければ、以下のように変更します:</p>
<pre class="eval">place:queryType=0&amp;sort=8&amp;maxResults=10&amp;beginTimeRef=1&amp;beginTime=0
</pre>
<p>ここで追加されたパラメータは:</p>
<dl> <dt><code>beginTimeRef=1</code></dt> <dd>後に続く <code>beginTime</code> パラメータは今日の午前0時からの相対時間であることを示します。</dd> <dt><code>beginTime</code></dt> <dd>検索開始時刻を午前0時からの相対時間（マイクロ秒）で指定します。この値に0を指定すると、今日訪問したすべてのサイトを対象とすることになります。</dd>
</dl>
<h3 id=".E3.82.AF.E3.82.A8.E3.83.AA.E3.83.91.E3.83.A9.E3.83.A1.E3.83.BC.E3.82.BF" name=".E3.82.AF.E3.82.A8.E3.83.AA.E3.83.91.E3.83.A9.E3.83.A1.E3.83.BC.E3.82.BF">クエリパラメータ</h3>
<table class="standard-table"> <tbody> <tr> <th>パラメータ</th> <th>タイプ</th> <th>説明</th> </tr> <tr> <td><code>beginTime</code></td> <td><code>unsigned long</code></td> <td>開始時刻をマイクロ秒で指定する。</td> </tr> <tr> <td><code>beginTimeRef</code></td> <td><code>unsigned long</code></td> <td><code>beginTime</code> の基準時刻タイプを指定します: <dl> <dt>0</dt> <dd>時刻は January 1, 1970 GMT からの相対時刻です。デフォルトです。</dd> <dt>1</dt> <dd>今日の午前0時からの相対時刻です。これは「今日」を指定するのに役に立ちます。</dd> <dt>2</dt> <dd>現在時刻からの相対時刻です。</dd> </dl> </td> </tr> <tr> <td><code>endTime</code></td> <td><code>unsigned long</code></td> <td>終了時刻をマイクロ秒で指定します。</td> </tr> <tr> <td><code>endTimeRef</code></td> <td><code>unsigned long</code></td> <td><code>endTime</code> の基準時刻タイプを指定します。値は <code>beginTime</code> と同じです。</td> </tr> <tr> <td><code>terms</code></td> <td><code>string</code></td> <td>検索する単語。</td> </tr> <tr> <td><code>minVisits</code></td> <td><code>long</code></td> <td>結果を訪問回数の最小値をもとにフィルタリングします。-1（デフォルト）を指定するとすべてを返し、それ以外の数値を指定すると訪問回数がそれ以上のものが含まれます。</td> </tr> <tr> <td><code>maxVisits</code></td> <td><code>long</code></td> <td>結果を訪問回数の最大値をもとにフィルタリングします。結果には指定された数値よりも小さい訪問回数のものだけが含まれます。-1（デフォルト）を指定すると最大訪問回数によるフィルタリングを行いません。</td> </tr> <tr> <td><code>onlyBookmarked</code></td> <td><code>boolean</code></td> <td><code>true</code> の場合、結果にはブックマークされたものだけが含まれます。</td> </tr> <tr> <td><code>domainIsHost</code></td> <td><code>boolean</code></td> <td><code>true</code> の場合、<code>domain</code> は完全に一致する必要があります。そうでない場合、<code>domain</code> の最後の部分が一致するかがチェックされます。</td> </tr> <tr> <td><code>domain</code></td> <td><code>string</code></td> <td>ホストまたはドメイン名にマッチするものを検索します。詳細は <code>domainIsHost</code> を参照してください。</td> </tr> <tr> <td><code>folder</code></td> <td><code>string</code></td> <td>検索するフォルダ名。これは以下のうちのひとつ: <dl> <dt>PLACES_ROOT</dt> <dd>Places のルートフォルダ。</dd> <dt>BOOKMARKS_MENU</dt> <dd>ブックマークメニュー。</dd> <dt>TOOLBAR</dt> <dd>ブックマークツールバー。</dd> <dt>TAGS</dt> <dd>タグ。</dd> <dt>UNFILED_BOOKMARKS</dt> <dd>未整理のブックマーク。</dd> </dl> </td> </tr> <tr> <td><code>!annotation</code></td> <td><code>boolean</code></td> <td><code>annotation</code> で指定されたアノテーションにマッチする項目を含めるかどうかを指定します。<code>true</code> の場合、指定されたアノテーションをもつ項目は捨てられます。</td> </tr> <tr> <td><code>annotation</code></td> <td><code>string</code></td> <td>検索時にマッチさせるアノテーション。</td> </tr> <tr> <td><code>uri</code></td> <td><code>string</code></td> <td>URI。</td> </tr> <tr> <td><code>uriIsPrefix</code></td> <td><code>boolean</code></td> <td><code>false</code> の場合、<code>uri</code> は完全一致しなければなりません（デフォルト）。<code>true</code> の場合、指定された URI で始まるものがマッチします。</td> </tr> </tbody>
</table>
<p>以下の属性は結果をより細かく制御するために使用されます。</p>
<table class="standard-table"> <tbody> <tr> <th>オペレータ</th> <th>タイプ</th> <th>説明</th> </tr> <tr> <td><code>OR</code></td> <td> </td> <td>論理 OR 演算子。</td> </tr> <tr> <td><code>group</code></td> <td> </td> <td> </td> </tr> <tr> <td><code>sort</code></td> <td><code>unsigned short</code></td> <td>結果のソート方法。 <dl> <dt>0</dt> <dd>ブックマークの並び順。</dd> <dt>1</dt> <dd>タイトルでソート（A-Z）</dd> <dt>2</dt> <dd>タイトルでソート（Z-A）</dd> <dt>3</dt> <dd>訪問日でソート（新しいものが最後）</dd> <dt>4</dt> <dd>訪問日でソート（新しいものが最初）</dd> <dt>5</dt> <dd>uri でソート（A-Z）</dd> <dt>6</dt> <dd>uri でソート（Z-A）</dd> <dt>7</dt> <dd>訪問回数でソート（昇順）</dd> <dt>8</dt> <dd>訪問回数でソート（降順）</dd> <dt>9</dt> <dd>キーワードでソート（A-Z）</dd> <dt>10</dt> <dd>キーワードでソート（Z-A）</dd> <dt>11</dt> <dd>追加した日付でソート（新しいものが最後）</dd> <dt>12</dt> <dd>追加した日付でソート（新しいものが最初）</dd> <dt>13</dt> <dd>最終更新日でソート（新しいものが最後）</dd> <dt>14</dt> <dd>最終更新日でソート（新しいものが最初）</dd> <dt>17</dt> <dd>タグでソート（昇順）</dd> <dt>18</dt> <dd>タグでソート（降順）</dd> <dt>19</dt> <dd>アノテーションでソート（昇順）</dd> <dt>20</dt> <dd>アノテーションでソート（降順）</dd> </dl> </td> </tr> <tr> <td><code>sortingAnnotation</code></td> <td><code>string</code></td> <td>アノテーションでソートするときに使用するアノテーション。</td> </tr> <tr> <td><code>type</code></td> <td><code>unsigned short</code></td> <td>結果のタイプ。 <dl> <dt>0</dt> <dd>URI(範囲内に訪問した各 URI の一つ）。</dd> <dt>1</dt> <dd>訪問（ページが訪問されるたびに1回：これはしばしば一つの URI に対して複数の結果を返す）。</dd> <dt>2</dt> <dd>完全な訪問（"visit"と似ているが、すべての属性を返す）。</dd> <dt>3</dt> <dd>日付クエリ（指定された日付範囲の結果を返す）。</dd> <dt>4</dt> <dd>サイトクエリ（指定されたホスト内の最後の訪問を返す）。</dd> <dt>5</dt> <dd>日付＋サイトクエリ（指定された日付範囲に訪問したホストを返す）。</dd> <dt>6</dt> <dd>タグクエリ（指定されたタグを持つブックマークのリストを返す）。</dd> <dt>7</dt> <dd>タグコンテナ（指定されたタグを持つブックマークを返す。同一の uri の場合は最後に修正されたもの。クエリに <code>folder=tag_folder_id</code> が必要。）</dd> </dl> </td> </tr> <tr> <td><code>excludeItems</code></td> <td><code>boolean</code></td> <td><code>true</code> の場合、すべての URI とセパレータはブックマーククエリの結果から除外され、フォルダとクエリだけ返す。<code>false</code> の場合（デフォルト）、すべての項目を返す。</td> </tr> <tr> <td><code>excludeQueries</code></td> <td><code>boolean</code></td> <td><code>true</code> の場合、クエリは結果から除外されるが、ブックマークフォルダの symlink のような単純なフォルダクエリは含まれる。<code>false</code> の場合（デフォルト）、クエリは結果に含まれる。</td> </tr> <tr> <td><code>excludeReadOnlyFolders</code></td> <td><code>boolean</code></td> <td><code>true</code> の場合、読み込み専用フォルダは結果から除外される。これは実際のフォルダの結果のノードがその親フォルダ内に現れる場合にだけ有効である。デフォルトは <code>false</code>。</td> </tr> <tr> <td><code>excludeItemIfParentHasAnnotation</code></td> <td><code>string</code></td> <td>親がこの値のアノテーションを持つアイテムはクエリの結果から除外される。このパラメータは履歴に対しては無視される。例えば、"livemark/feedURI" を指定することによってライブブックマークのエントリを除外できる。</td> </tr> <tr> <td><code>expandQueries</code></td> <td><code>boolean</code></td> <td><code>true</code> の場合、<code>place</code> の URI は結果の中にコンテナとして現れ、そのコンテンツは保存されたクエリの結果で満たされる。<code>excludeQueries</code> が <code>true</code> の場合は無効になる。デフォルトは <code>false</code> であり、<code>place</code> の URI は通常のアイテムとして現れる。</td> </tr> <tr> <td><code>originalTitle</code></td> <td><code>string</code></td> <td>オリジナルのページタイトルを復元する。</td> </tr> <tr> <td><code>includeHidden</code></td> <td><code>boolean</code></td> <td><code>true</code> の場合、iframe のコンテンツや画像など通常の履歴クエリでは表示されないアイテムを結果に含める。デフォルトは <code>false</code>。</td> </tr> <tr> <td><code>showSessions</code></td> <td><code>boolean</code></td> <td><code>true</code> の場合、セッション情報が履歴アイテムのグルーピングのために利用される。これは日付によるソートの場合だけ有効である。デフォルトは<code>false</code>。</td> </tr> <tr> <td><code>resolveNullBookmarkTitles</code></td> <td><code>boolean</code></td> <td><code>true</code>の場合、可能であれば、タイトルが null のブックマークは履歴からページタイトルを取ってくる。これは空タイトルのブックマークには影響しない。デフォルトは <code>false</code>。</td> </tr> <tr> <td><code>applyOptionsToContainers</code></td> <td> </td> <td> </td> </tr> <tr> <td><code>maxResults</code></td> <td><code>unsigned long</code></td> <td>結果の最大数。タイトルでソートする場合は無効。0 はすべての結果を返すことを意味する。</td> </tr> <tr> <td><code>queryType</code></td> <td><code>unsigned short</code></td> <td>データベースをクエリする際に使用する検索のタイプ。このアトリビュートはクエリノードに対してのみ有効。単純なフォルダクエリでは無視される。 <dl> <dt>0</dt> <dd>履歴</dd> <dt>1</dt> <dd>ブックマーク</dd> <dt>2</dt> <dd>履歴とブックマークの両方</dd> </dl> </td> </tr> </tbody>
</table>
<h2 id="See_also" name="See_also">See also</h2>
<ul> <li><a href="/ja/Querying_Places" title="ja/Querying_Places">Querying Places</a></li>
</ul>
<p></p>
