---
title: nsIJSON
slug: Mozilla/Tech/XPCOM/Reference/XPCOM_Interface_Reference/nsIJSON
tags:
  - Interfaces
  - XPCOM
  - XPCOM API Reference
translation_of: Mozilla/Tech/XPCOM/Reference/Interface/nsIJSON
---
<p> </p><div class="blockIndicator draft">
    <p><strong>草案</strong><br>
    このページは完成していません。</p>

</div> <code>nsIJSON</code> インタフェースは、JavaScript コードから <a href="ja/JSON">JSON</a> 文字列をエンコード、デコードする便利な方法を提供します。
<div class="note">
 <b>注:</b> このインタフェースは JavaScript コードからのみ利用されます。</div>
<p><br>
 </p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/dom/public/idl/json/nsIJSON.idl" rel="custom">dom/public/idl/json/nsIJSON.idl</a></code><span style="text-align: right; float: right;"><a href="/ja/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

<i>Please add a summary to this article.</i>
</span>

<div style="background: #eee; padding: 2px;">
<span> </span>
<span style="text-align: right; float: right;">最終更新: Gecko 1.9 (Firefox 3)</span></div>
</div>
<p>継承元: <code><a href="/ja/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code></p>
<p>実装: <code>@mozilla.org/dom/json;1</code> インスタンスを作成するには、以下のように記述します。</p>
<pre class="eval">var nativeJSON = Components.classes["@mozilla.org/dom/json;1"]
                 .createInstance(Components.interfaces.nsIJSON);
</pre>
<h2 id=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89.E3.81.AE.E6.A6.82.E8.A6.81" name=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89.E3.81.AE.E6.A6.82.E8.A6.81">メソッドの概要</h2>
<div class="blockIndicator note"><strong>註:</strong> IDL ファイルには、コメントアウトされた IDL が一部含まれています。これは、その部分が IDL で適切に記述できないことを表現しているのが原因です。ただし、この記事の目的に照らし合わせて、実在するかのように説明し、この問題を意図的に無視しています。</div>
<table class="standard-table">
 <tbody>
  <tr>
   <td><code><a href="ja/JSObject">JSObject</a> <a href="#decode.28.29">decode</a>(in <a href="ja/AString">AString</a> str, [optional] in JSObject whitelist);</code></td>
  </tr>
  <tr>
   <td><code>JSObject <a href="#decodeFromStream.28.29">decodeFromStream</a>(in <a href="ja/NsIInputStream">nsIInputStream</a> stream, in long contentLength, [optional] in JSObject optFilter);</code></td>
  </tr>
  <tr>
   <td><code><a href="ja/AString">AString</a> <a href="#encode.28.29">encode</a>(in <a href="ja/JSObject">JSObject</a> value, [optional] in JSObject whitelist);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#encodeToStream.28.29">encodeToStream</a>(in <a href="ja/NsIOutputStream">nsIOutputStream</a> stream, in string charset, in boolean writeBOM, in JSObject value, [optional] in JSObject optFilter);</code></td>
  </tr>
 </tbody>
</table>
<h2 id=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89" name=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89">メソッド</h2>
<h3 id="decode.28.29" name="decode.28.29">decode()</h3>
<p>JSON 文字列をデコードします。JavaScript オブジェクトが存在する場合はそのオブジェクトを返します。</p>
<pre class="eval"> JSObject decode(
   in AString str,
   [optional] in JSObject whitelist
 );
</pre>
<h6 id=".E5.BC.95.E6.95.B0" name=".E5.BC.95.E6.95.B0">引数</h6>
<dl>
 <dt>
  &lt;tt&gt;str&lt;/tt&gt;</dt>
 <dd>
  デコードする JSON 文字列。</dd>
 <dt>
  &lt;tt&gt;whitelist&lt;/tt&gt;</dt>
 <dd>
   ?</dd>
</dl>
<h6 id=".E6.88.BB.E3.82.8A.E5.80.A4" name=".E6.88.BB.E3.82.8A.E5.80.A4">戻り値</h6>
<p>JSON 文字列から再構築された、元の JavaScript オブジェクト。</p>
<h3 id="decodeFromStream.28.29" name="decodeFromStream.28.29">decodeFromStream()</h3>
<p>入力ストリームから読み出した JSON 文字列をデコードします。JavaScript オブジェクトが存在する場合はそのオブジェクトを返します。</p>
<pre class="eval"> JSObject decodeFromStream(
   in nsIInputStream stream,
   in long contentLength,
   [optional] in JSObject optFilter
 );
</pre>
<h6 id=".E5.BC.95.E6.95.B0_2" name=".E5.BC.95.E6.95.B0_2">引数</h6>
<dl>
 <dt>
  &lt;tt&gt;stream&lt;/tt&gt;</dt>
 <dd>
  JSON 文字列を読み出す <code><a href="/ja/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIInputStream" title="">nsIInputStream</a></code>。</dd>
 <dt>
  &lt;tt&gt;contentLength&lt;/tt&gt;</dt>
 <dd>
  読み出す JSON 文字列の長さ。</dd>
 <dt>
  &lt;tt&gt;optFilter&lt;/tt&gt;</dt>
 <dd>
   ?</dd>
</dl>
<h6 id=".E6.88.BB.E3.82.8A.E5.80.A4_2" name=".E6.88.BB.E3.82.8A.E5.80.A4_2">戻り値</h6>
<p>JSON 文字列から再構築された、元の JavaScript オブジェクトを表す <code><a href="ja/JSObject">JSObject</a></code>。</p>
<h3 id="encode.28.29" name="encode.28.29">encode()</h3>
<p>JavaScript オブジェクトを JSON 文字列へエンコードします。</p>
<pre class="eval"> AString encode(
   in JSObject value,
   [optional] in JSObject whitelist
 );
</pre>
<h6 id=".E5.BC.95.E6.95.B0_3" name=".E5.BC.95.E6.95.B0_3">引数</h6>
<dl>
 <dt>
  &lt;tt&gt;value&lt;/tt&gt;</dt>
 <dd>
  エンコードする JavaScript オブジェクト。</dd>
 <dt>
  &lt;tt&gt;whitelist&lt;/tt&gt;</dt>
 <dd>
   ?</dd>
</dl>
<h6 id=".E6.88.BB.E3.82.8A.E5.80.A4_3" name=".E6.88.BB.E3.82.8A.E5.80.A4_3">戻り値</h6>
<p>オブジェクトを表す JSON 文字列。</p>
<h3 id="encodeToStream.28.29" name="encodeToStream.28.29">encodeToStream()</h3>
<p>JavaScript オブジェクトを JSON 文字列へエンコードし、ストリームに書き込みます。</p>
<pre class="eval"> void encodeToStream(
   in nsIOutputStream stream,
   in string charset,
   in boolean writeBOM
   in JSObject value,
   [optional] in JSObject optFilter
 );
</pre>
<h6 id=".E5.BC.95.E6.95.B0_4" name=".E5.BC.95.E6.95.B0_4">引数</h6>
<dl>
 <dt>
  &lt;tt&gt;stream&lt;/tt&gt;</dt>
 <dd>
  JSON 文字列を書き込む <code><a href="/ja/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIOutputStream" title="">nsIOutputStream</a></code>。</dd>
 <dt>
  &lt;tt&gt;charset&lt;/tt&gt;</dt>
 <dd>
  使用する文字エンコーディング。「UTF-8」「UTF-16LE」「UTF-16BE」など。</dd>
 <dt>
  &lt;tt&gt;writeBOM&lt;/tt&gt;</dt>
 <dd>
  ストリームにバイトオーダーマーク (BOM) を書き込む場合は <code>true</code>、書き込まない場合は <code>false</code> を指定します。</dd>
 <dt>
  &lt;tt&gt;value&lt;/tt&gt;</dt>
 <dd>
  エンコードする JavaScript オブジェクト。</dd>
 <dt>
  &lt;tt&gt;optFilter&lt;/tt&gt;</dt>
 <dd>
  ?</dd>
</dl>
<h2 id=".E4.BE.8B" name=".E4.BE.8B">例</h2>
<h3 id=".E3.82.AA.E3.83.96.E3.82.B8.E3.82.A7.E3.82.AF.E3.83.88.E3.82.92.E3.82.A8.E3.83.B3.E3.82.B3.E3.83.BC.E3.83.89.E3.81.99.E3.82.8B" name=".E3.82.AA.E3.83.96.E3.82.B8.E3.82.A7.E3.82.AF.E3.83.88.E3.82.92.E3.82.A8.E3.83.B3.E3.82.B3.E3.83.BC.E3.83.89.E3.81.99.E3.82.8B">オブジェクトをエンコードする</h3>
<pre class="eval">var myObj = {"foo":"bar"};

var myJSONString = nativeJSON.encode(myObj);
</pre>
<p>返される文字列は「{"foo":"bar"}」になります。</p>
<h3 id="JSON_.E6.96.87.E5.AD.97.E5.88.97.E3.82.92.E3.83.87.E3.82.B3.E3.83.BC.E3.83.89.E3.81.99.E3.82.8B" name="JSON_.E6.96.87.E5.AD.97.E5.88.97.E3.82.92.E3.83.87.E3.82.B3.E3.83.BC.E3.83.89.E3.81.99.E3.82.8B">JSON 文字列をデコードする</h3>
<p>上記の文字列は、<code>decode()</code> に渡して、元のオブジェクトに戻すことができます。</p>
<pre class="eval">var myObj2 = nativeJSON.decode(myJSONString);
</pre>
<h2 id=".E9.96.A2.E9.80.A3.E8.A8.98.E4.BA.8B" name=".E9.96.A2.E9.80.A3.E8.A8.98.E4.BA.8B">関連記事</h2>
<ul>
 <li><a href="ja/JSON">JSON</a></li>
</ul>
