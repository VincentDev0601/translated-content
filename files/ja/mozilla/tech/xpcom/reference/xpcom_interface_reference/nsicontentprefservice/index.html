---
title: nsIContentPrefService
slug: Mozilla/Tech/XPCOM/Reference/XPCOM_Interface_Reference/nsIContentPrefService
tags:
  - Interfaces
  - XPCOM
  - XPCOM API Reference
translation_of: Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService
---
<p> <code>nsIContentPrefService</code> は、拡張機能やブラウザのコードにおいて、特定の URI のための設定を保存する方法を提供します。設定項目はキーと値のペアで URI ごとに保存されます。使用例は <a href="ja/Using_content_preferences">Using content preferences</a> を参照してください。</p>
<p><br>
 </p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/toolkit/components/contentprefs/public/nsIContentPrefService.idl" rel="custom">toolkit/components/contentprefs/public/nsIContentPrefService.idl</a></code><span style="text-align: right; float: right;"><a href="/ja/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

<i>Please add a summary to this article.</i>
</span>

<div style="background: #eee; padding: 2px;">
<span> </span>
<span style="text-align: right; float: right;">最終更新: Gecko 1.9 (Firefox 3)</span></div>
</div>
<p>継承元: <code><a href="/ja/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code></p>
<p>実装: <code>@mozilla.org/content-pref/service;1</code>。インスタンスを作成するには、以下のように記述します。</p>
<pre class="eval">var prefService = Components.classes["@mozilla.org/content-pref/service;1"]
                  .getService(Components.interfaces.nsIContentPrefService);
</pre>
<h2 id=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89.E3.81.AE.E6.A6.82.E8.A6.81" name=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89.E3.81.AE.E6.A6.82.E8.A6.81">メソッドの概要</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#addObserver.28.29">addObserver</a>(in AString aName, in <a href="ja/NsIContentPrefObserver">nsIContentPrefObserver</a> aObserver);</code></td>
  </tr>
  <tr>
   <td><code><a href="ja/NsIVariant">nsIVariant</a> <a href="#getPref.28.29">getPref</a>(in <a href="ja/NsIURI">nsIURI</a> aURI, in <a href="ja/AString">AString</a> aName);</code></td>
  </tr>
  <tr>
   <td><code><a href="ja/NsIPropertyBag2">nsIPropertyBag2</a> <a href="#getPrefs.28.29">getPrefs</a>(in nsIURI aURI);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#hasPref.28.29">hasPref</a>(in nsIURI aURI, in AString aName);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#removeObserver.28.29">removeObserver</a>(in AString aName, in <a href="ja/NsIContentPrefObserver">nsIContentPrefObserver</a> aObserver);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#removePref.28.29">removePref</a>(in nsIURI aURI, in AString aName);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setPref.28.29">setPref</a>(in nsIURI aURI, in AString aName, in nsIVariant aValue);</code></td>
  </tr>
 </tbody>
</table>
<h2 id=".E5.B1.9E.E6.80.A7" name=".E5.B1.9E.E6.80.A7">属性</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">属性</td>
   <td class="header">型</td>
   <td class="header">説明</td>
  </tr>
  <tr>
   <td><code>grouper</code></td>
   <td><code><a href="ja/NsIContentURIGrouper">nsIContentURIGrouper</a></code></td>
   <td>URI が属するグループを判別するのにサービスが使用するコンポーネント。デフォルトでは、これは完全なホスト名で (つまりサイトごとに) URI をグループ化する「hostname grouper」になります。</td>
  </tr>
 </tbody>
</table>
<h2 id=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89" name=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89">メソッド</h2>
<h3 id="getPref.28.29" name="getPref.28.29">getPref()</h3>
<p>特定の URI のために保存された設定の値を返します。</p>
<pre class="eval"> nsIVariant getPref(
   in nsIURI aURI,
   in AString aName
 );
</pre>
<h6 id=".E5.BC.95.E6.95.B0" name=".E5.BC.95.E6.95.B0">引数</h6>
<dl>
 <dt>
  &lt;tt&gt;aURI&lt;/tt&gt;</dt>
 <dd>
  設定を取得する URI。グローバル設定空間から設定を取得する場合は <code>null</code> を指定します。グローバル設定はすべての URI に適用されます。</dd>
 <dt>
  &lt;tt&gt;aName&lt;/tt&gt;</dt>
 <dd>
  値を取得する設定の名前。</dd>
</dl>
<h6 id=".E6.88.BB.E3.82.8A.E5.80.A4" name=".E6.88.BB.E3.82.8A.E5.80.A4">戻り値</h6>
<p>設定の値が返されます。これには、文字列、整数値、真偽値、あるいはその他の値が含まれる可能性があります。指定された名前で保存されている値がなく、設定の値が <code>null</code> (<code>nsIDataType:VTYPE_EMPTY</code>) もしくは <code>undefined</code> (<code>nsIDataType:VTYPE_VOID</code>) であった場合、結果は <code>null</code> になる場合があります。</p>
<h3 id="setPref.28.29" name="setPref.28.29">setPref()</h3>
<p>特定の URI のために設定の値を設定します。</p>
<pre class="eval"> nsIVariant setPref(
   in nsIURI aURI,
   in AString aName,
   in nsIVariant aValue
 );
</pre>
<h6 id=".E5.BC.95.E6.95.B0_2" name=".E5.BC.95.E6.95.B0_2">引数</h6>
<dl>
 <dt>
  &lt;tt&gt;aURI&lt;/tt&gt;</dt>
 <dd>
  設定を保存する URI。グローバル設定空間にある設定を設定する場合は <code>null</code> を指定します。グローバル設定はすべての URI に適用されます。</dd>
 <dt>
  &lt;tt&gt;aName&lt;/tt&gt;</dt>
 <dd>
  値を設定する設定の名前。</dd>
 <dt>
  &lt;tt&gt;aValue&lt;/tt&gt;</dt>
 <dd>
  設定に割り当てる値。</dd>
</dl>
<h3 id="hasPref.28.29" name="hasPref.28.29">hasPref()</h3>
<p>特定の設定項目が存在するかどうかを判別します。</p>
<pre class="eval"> boolean hasPref(
   in nsIURI aURI,
   in AString aName
 );
</pre>
<h6 id=".E5.BC.95.E6.95.B0_3" name=".E5.BC.95.E6.95.B0_3">引数</h6>
<dl>
 <dt>
  &lt;tt&gt;aURI&lt;/tt&gt;</dt>
 <dd>
  設定項目が存在するかどうかを判別する URI。グローバル設定空間にある設定を判別する場合は <code>null</code> を指定します。</dd>
 <dt>
  &lt;tt&gt;aName&lt;/tt&gt;</dt>
 <dd>
  設定項目が存在するかどうかを判別する設定の名前。</dd>
</dl>
<h6 id=".E6.88.BB.E3.82.8A.E5.80.A4_2" name=".E6.88.BB.E3.82.8A.E5.80.A4_2">戻り値</h6>
<p>設定が存在する場合は <code>true</code>、存在しなければ <code>false</code>。</p>
<h3 id="removePref.28.29" name="removePref.28.29">removePref()</h3>
<p>特定の設定項目を削除します。</p>
<pre class="eval"> void removePref(
   in nsIURI aURI,
   in AString aName
 );
</pre>
<h6 id=".E5.BC.95.E6.95.B0_4" name=".E5.BC.95.E6.95.B0_4">引数</h6>
<dl>
 <dt>
  &lt;tt&gt;aURI&lt;/tt&gt;</dt>
 <dd>
  削除する設定の URI。グローバル設定空間にある設定を削除する場合は <code>null</code> を指定します。</dd>
 <dt>
  &lt;tt&gt;aName&lt;/tt&gt;</dt>
 <dd>
  削除する設定の名前。</dd>
</dl>
<h3 id="getPrefs.28.29" name="getPrefs.28.29">getPrefs()</h3>
<p>特定の URI のための設定とそれらの値をすべて含んだ <code><a href="ja/NsIPropertyBag2">nsIPropertyBag2</a></code> を返します。</p>
<pre class="eval"> nsIPropertyBag2 getPrefs(
   in nsIURI aURI,
 );
</pre>
<h6 id=".E5.BC.95.E6.95.B0_5" name=".E5.BC.95.E6.95.B0_5">引数</h6>
<dl>
 <dt>
  &lt;tt&gt;aURI&lt;/tt&gt;</dt>
 <dd>
  取得したい設定の URI。グローバル設定空間にある設定を取得する場合は <code>null</code> を指定します。</dd>
</dl>
<h6 id=".E6.88.BB.E3.82.8A.E5.80.A4_3" name=".E6.88.BB.E3.82.8A.E5.80.A4_3">戻り値</h6>
<p>設定とそれらの値をすべて含んだ <code><a href="ja/NsIPropertyBag2">nsIPropertyBag2</a></code>。</p>
<h3 id="addObserver.28.29" name="addObserver.28.29">addObserver()</h3>
<p>特定の設定の変更を監視するオブザーバを追加します。</p>
<pre class="eval"> void addObserver(
   in AString aName,
   in nsIContentPrefObserver aObserver
 );
</pre>
<h6 id=".E5.BC.95.E6.95.B0_6" name=".E5.BC.95.E6.95.B0_6">引数</h6>
<dl>
 <dt>
  &lt;tt&gt;aName&lt;/tt&gt;</dt>
 <dd>
  監視を行う設定の名前。すべての設定の変更を監視する包括的オブザーバを追加する場合は <code>null</code> を指定します。</dd>
 <dt>
  &lt;tt&gt;aObserver&lt;/tt&gt;</dt>
 <dd>
  設定の値が変更された場合に通知を受ける <code><a href="/ja/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefObserver" title="">nsIContentPrefObserver</a></code> を実装したオブジェクトの名前。</dd>
</dl>
<h3 id="removeObserver.28.29" name="removeObserver.28.29">removeObserver()</h3>
<p>特定の設定の変更を監視している既存のオブザーバを削除します。</p>
<pre class="eval"> void addObserver(
   in AString aName,
   in nsIContentPrefObserver aObserver
 );
</pre>
<h6 id=".E5.BC.95.E6.95.B0_7" name=".E5.BC.95.E6.95.B0_7">引数</h6>
<dl>
 <dt>
  &lt;tt&gt;aName&lt;/tt&gt;</dt>
 <dd>
  監視を停止する設定の名前。すべての設定の変更を監視する包括的オブザーバを削除する場合は <code>null</code> を指定します。</dd>
 <dt>
  &lt;tt&gt;aObserver&lt;/tt&gt;</dt>
 <dd>
  設定の値が変更された場合に通知を受けるオブザーバの名前。</dd>
</dl>
<h2 id=".E9.96.A2.E9.80.A3.E8.A8.98.E4.BA.8B" name=".E9.96.A2.E9.80.A3.E8.A8.98.E4.BA.8B">関連記事</h2>
<p><code><a href="/ja/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefObserver" title="">nsIContentPrefObserver</a></code>, <a href="ja/Using_content_preferences">Using content preferences</a></p>
