---
title: nsIZipReader
slug: Mozilla/Tech/XPCOM/Reference/XPCOM_Interface_Reference/nsIZipReader
tags:
  - Interfaces
  - XPCOM
  - XPCOM API Reference
translation_of: Mozilla/Tech/XPCOM/Reference/Interface/nsIZipReader
---
<p> </p>
<div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/modules/libjar/nsIZipReader.idl" rel="custom">modules/libjar/nsIZipReader.idl</a></code><span style="text-align: right; float: right;"><a href="/ja/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

<i>Please add a summary to this article.</i>
</span>

<div style="background: #eee; padding: 2px;">
<span> </span>
<span style="text-align: right; float: right;">最終更新: Gecko 1.9 (Firefox 3)</span></div>
</div>
<p>継承元: <code><a href="/ja/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code></p>
<p>実装: <code>@mozilla.org/libjar/zip-reader;1</code>。インスタンスを作成するには、以下のように記述します。</p>
<pre class="eval">var zReader = Components.classes["@mozilla.org/libjar/zip-reader;1"]
                        .createInstance(Components.interfaces.nsIZipReader);
</pre>
<h2 id=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89.E3.81.AE.E6.A6.82.E8.A6.81" name=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89.E3.81.AE.E6.A6.82.E8.A6.81">メソッドの概要</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#open.28.29">open</a>(in nsIFile zipFile)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#close.28.29">close</a>()</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#test.28.29">test</a>(in string aEntryName)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#extract.28.29">extract</a>(in string zipEntry, in nsIFile outFile)</code></td>
  </tr>
  <tr>
   <td><code>nsIZipEntry <a href="#getEntry.28.29">getEntry</a>(in string zipEntry)</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#hasEntry.28.29">hasEntry</a>(in AUTF8String zipEntry)</code></td>
  </tr>
  <tr>
   <td><code>nsIUTF8StringEnumerator <a href="#findEntries.28.29">findEntries</a>(in string aPattern)</code></td>
  </tr>
  <tr>
   <td><code>nsIInputStream <a href="#getInputStream.28.29">getInputStream</a>(in string zipEntry)</code></td>
  </tr>
  <tr>
   <td><code>nsIInputStream <a href="#getInputStreamWithSpec.28.29">getInputStreamWithSpec</a>(in AUTF8String aJarSpec, in string zipEntry)</code></td>
  </tr>
 </tbody>
</table>
<h2 id=".E5.B1.9E.E6.80.A7" name=".E5.B1.9E.E6.80.A7">属性</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">属性</td>
   <td class="header">型</td>
   <td class="header">説明</td>
  </tr>
  <tr>
   <td><code>file</code></td>
   <td><code>readonly attribute nsIFile</code></td>
   <td>この ZIP ファイルリーダーが初期化された ZIP を表すファイル。</td>
  </tr>
 </tbody>
</table>
<h2 id=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89" name=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89">メソッド</h2>
<h3 id="open.28.29" name="open.28.29">open()</h3>
<p>ZIP ファイルを開いてい読み取れるようにします。他のファイルを開くこともできますが、まず <code>close()</code> で閉じる必要があります。</p>
<pre class="eval">void open(in nsIFile zipFile)
</pre>
<h6 id=".E5.BC.95.E6.95.B0" name=".E5.BC.95.E6.95.B0">引数</h6>
<dl>
 <dt>
  <code>zipFile</code></dt>
 <dd>
  開く ZIP ファイル。</dd>
</dl>
<h3 id="close.28.29" name="close.28.29">close()</h3>
<p>ZIP ファイルを閉じます。以後、ファイルを展開しようとしたり、その入力ストリームから読み取りを行おうとするとエラーになります。</p>
<pre class="eval">void close()
</pre>
<h3 id="test.28.29" name="test.28.29">test()</h3>
<p>各アイテムをメモリに展開する際に CRC チェックを実行して、アーカイブの完全性を検証します。エントリが指定された場合、そのアイテムの完全性のみが検証されます。<code>NULL</code> が渡された場合、アーカイブ内のすべてのアイテムの完全性が検証されます。</p>
<pre class="eval">void test(in string aEntryName)
</pre>
<h6 id=".E5.BC.95.E6.95.B0_2" name=".E5.BC.95.E6.95.B0_2">引数</h6>
<dl>
 <dt>
  <code>aEntryName</code></dt>
 <dd>
  検証を行う単独のエントリ、あるいは、アーカイブ内のすべてのエントリを検証する場合は　<code>NULL</code>。</dd>
</dl>
<h3 id="extract.28.29" name="extract.28.29">extract()</h3>
<p>ZIP エントリを、<code>outFile</code> で指定されたローカルファイルに展開します。展開を正常に完了するには、このエントリは非圧縮あるいはでデフレート圧縮形式で ZIP 内に保存されていなければなりません。エントリがディレクトリの場合、そのディレクトリが非再帰的に展開されます。</p>
<pre class="eval">void extract(in string zipEntry, in nsIFile outFile)
</pre>
<h6 id=".E5.BC.95.E6.95.B0_3" name=".E5.BC.95.E6.95.B0_3">引数</h6>
<dl>
 <dt>
  <code>zipEntry</code></dt>
 <dd>
  展開する ZIP エントリ。</dd>
</dl>
<dl>
 <dt>
  <code>outFile</code></dt>
 <dd>
  ZIP ファイルの展開先に使用するローカルファイル</dd>
</dl>
<h3 id="getEntry.28.29" name="getEntry.28.29">getEntry()</h3>
<p>指定された ZIP エントリに相当する <code>nsIZipEntry</code> を返します。</p>
<pre class="eval">nsIZipEntry getEntry(in string zipEntry)
</pre>
<h6 id=".E5.BC.95.E6.95.B0_4" name=".E5.BC.95.E6.95.B0_4">引数</h6>
<dl>
 <dt>
  <code>zipEntry</code></dt>
 <dd>
  ZIP エントリ。</dd>
</dl>
<h6 id=".E6.88.BB.E3.82.8A.E5.80.A4" name=".E6.88.BB.E3.82.8A.E5.80.A4">戻り値</h6>
<p>指定された ZIP エントリに相当する <code>nsIZipEntry</code>。</p>
<h3 id="hasEntry.28.29" name="hasEntry.28.29">hasEntry()</h3>
<p>ZIP ファイルに entryName で指定されたエントリが含まれているかどうかを確認します。</p>
<pre class="eval">boolean hasEntry(in AUTF8String zipEntry)
</pre>
<h6 id=".E5.BC.95.E6.95.B0_5" name=".E5.BC.95.E6.95.B0_5">引数</h6>
<h6 id=".E6.88.BB.E3.82.8A.E5.80.A4_2" name=".E6.88.BB.E3.82.8A.E5.80.A4_2">戻り値</h6>
<p>真偽値。該当する ZIP エントリが存在する場合は <code>true</code>、存在しない場合は <code>false</code>。</p>
<h3 id="findEntries.28.29" name="findEntries.28.29">findEntries()</h3>
<p>一致するエントリ名を含む文字列の列挙 (enumerator) を返します。</p>
<pre class="eval">nsIUTF8StringEnumerator findEntries(in string aPattern)
</pre>
<h6 id=".E5.BC.95.E6.95.B0_6" name=".E5.BC.95.E6.95.B0_6">引数</h6>
<dl>
 <dt>
  <code>aPattern</code></dt>
 <dd>
  ZIP ファイル内でエントリを検索するために使用する正規表現。すべてのエントリを取得するには、この引数を <code>null</code> に設定します。そうでない場合、以下の構文を使ってください。</dd>
</dl>
<h6 id=".E6.8A.95.E3.81.92.E3.82.89.E3.82.8C.E3.82.8B.E4.BE.8B.E5.A4.96" name=".E6.8A.95.E3.81.92.E3.82.89.E3.82.8C.E3.82.8B.E4.BE.8B.E5.A4.96">投げられる例外</h6>
<dl>
 <dt>
  <code>NS_ERROR_ILLEGAL_VALUE</code></dt>
 <dd>
  多くの、ただしすべてではない不正な <code>aPattern</code> の値が確認された場合。</dd>
</dl>
<h6 id=".E6.88.BB.E3.82.8A.E5.80.A4_3" name=".E6.88.BB.E3.82.8A.E5.80.A4_3">戻り値</h6>
<p>一致したエントリ名が含まれる <code>nsIUTF8StringEnumerator</code>。</p>
<h3 id="getInputStream.28.29" name="getInputStream.28.29">getInputStream()</h3>
<p>指定された ZIP エントリの内容が含まれる入力ストリームを返します。</p>
<pre class="eval">nsIInputStream getInputStream(in string zipEntry)
</pre>
<h6 id=".E5.BC.95.E6.95.B0_7" name=".E5.BC.95.E6.95.B0_7">引数</h6>
<dl>
 <dt>
  <code>zipEntry</code></dt>
 <dd>
  ストリームを開くエントリの名前。</dd>
</dl>
<h6 id=".E6.88.BB.E3.82.8A.E5.80.A4_4" name=".E6.88.BB.E3.82.8A.E5.80.A4_4">戻り値</h6>
<p>指定された ZIP エントリの内容が含まれる <code>nsIInputStream</code>。</p>
<h3 id="getInputStreamWithSpec.28.29" name="getInputStreamWithSpec.28.29">getInputStreamWithSpec()</h3>
<p>指定された ZIP エントリの内容が含まれる入力ストリームを返します。エントリが (「/」で終わる) ディレクトリを参照している場合、ディレクトリストリームが開かれます。そうでない場合はファイルエントリの内容が返されます。</p>
<pre class="eval">nsIInputStream getInputStreamWithSpec(in AUTF8String aJarSpec, in string zipEntry)
</pre>
<h6 id=".E5.BC.95.E6.95.B0_8" name=".E5.BC.95.E6.95.B0_8">引数</h6>
<dl>
 <dt>
  <code>aJarSpec</code></dt>
 <dd>
  JAR に使われている URI の Spec (利用されるのはディレクトリストリームの場合のみです)。</dd>
</dl>
<h6 id=".E6.88.BB.E3.82.8A.E5.80.A4_5" name=".E6.88.BB.E3.82.8A.E5.80.A4_5">戻り値</h6>
<p>指定された ZIP エントリの内容が含まれる <code>nsIInputStream</code>。</p>
<h2 id="See_also" name="See_also">See also</h2>
<p><a href="ja/NsIZipEntry">nsIZipEntry</a></p>
