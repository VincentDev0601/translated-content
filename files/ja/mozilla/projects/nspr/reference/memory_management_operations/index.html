---
title: NSPR API リファレンス
slug: Mozilla/Projects/NSPR/Reference/Memory_Management_Operations
tags:
  - NSPR
  - NSPR_API_Reference
translation_of: Mozilla/Projects/NSPR/Reference/Memory_Management_Operations
---
<p> {{ PreviousNext("NSPR API Reference:Date and Time", "NSPR API Reference:String Operations") }}
</p><p>この章では、メモリ管理を行う際に利用することになるグローバル関数やマクロについて解説しています。NSPR はおなじみの <code>malloc()</code>, <code>calloc()</code>, <code>realloc()</code> や <code>free()</code> にマップされているヒープベースのメモリ管理関数を提供しています。
</p>
<ul><li> {{ Anch("Memory Allocation Functions") }}
</li><li> {{ Anch("Memory Allocation Macros") }}
</li></ul>
<p>{{ 英語版章題("Memory Allocation Functions") }}
</p>
<h3 name=".E3.83.A1.E3.83.A2.E3.83.AA.E5.89.B2.E3.82.8A.E5.BD.93.E3.81.A6.E9.96.A2.E6.95.B0" id=".E3.83.A1.E3.83.A2.E3.83.AA.E5.89.B2.E3.82.8A.E5.BD.93.E3.81.A6.E9.96.A2.E6.95.B0">メモリ割り当て関数</h3>
<p>NSPR は自身にヒープ領域を確保しており、これらの関数はそのヒープ領域に対して動作します。ライブラリは Netscape security libraries などといった NSPR の最初に作成され、これらの関数をメモリの確保や開放に利用しています。これらのライブラリで利用するためにメモリを確保する場合や、これらのライブラリで確保されたメモリを開放する場合は、libc の同等の関数ではなく、必ず NSPR の関数を利用する必要があります。
</p><p>メモリ割り当て関数は次のものになります :
</p>
<ul><li> <a href="ja/PR_Malloc">PR_Malloc</a>
</li><li> <a href="ja/PR_Calloc">PR_Calloc</a>
</li><li> <a href="ja/PR_Realloc">PR_Realloc</a>
</li><li> <a href="ja/PR_Free">PR_Free</a>
</li></ul>
<p><code>PR_Malloc()</code>, <code>PR_Calloc()</code>, <code>PR_Realloc()</code> や <code>PR_Free()</code> は、その libc の同等の関数である <code>malloc()</code>, <code>calloc()</code>, <code>realloc()</code> や <code>free()</code> と同じ定数を利用し、同等の動作を行います。(ただし、引数の型の <code>size_t</code> は <code>PRUint32</code> に変換されています。) <code>PR_Malloc()</code>, <code>PR_Calloc()</code> や <code>PR_Realloc()</code> で確保されたメモリ領域は、必ず <code>PR_Free()</code> で開放される必要があります。
</p><p>{{ 英語版章題("Memory Allocation Macros") }}
</p>
<h3 name=".E3.83.A1.E3.83.A2.E3.83.AA.E5.89.B2.E3.82.8A.E5.BD.93.E3.81.A6.E3.83.9E.E3.82.AF.E3.83.AD" id=".E3.83.A1.E3.83.A2.E3.83.AA.E5.89.B2.E3.82.8A.E5.BD.93.E3.81.A6.E3.83.9E.E3.82.AF.E3.83.AD">メモリ割り当てマクロ</h3>
<p>メモリ割り当て関数のマクロ版も提供されており、プログラミングの利便性のために同様な追加のマクロも提供されています :
</p>
<ul><li> <a href="ja/PR_MALLOC">PR_MALLOC</a>
</li><li> <a href="ja/PR_NEW">PR_NEW</a>
</li><li> <a href="ja/PR_REALLOC">PR_REALLOC</a>
</li><li> <a href="ja/PR_CALLOC">PR_CALLOC</a>
</li><li> <a href="ja/PR_NEWZAP">PR_NEWZAP</a>
</li><li> <a href="ja/PR_DELETE">PR_DELETE</a>
</li><li> <a href="ja/PR_FREEIF">PR_FREEIF</a>
</li></ul>
{{ languages( { "en": "en/NSPR_API_Reference/Memory_Management_Operations" } ) }}
