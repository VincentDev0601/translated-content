---
title: Mozillaの自動テスト
slug: Mozilla_automated_testing
translation_of: Mozilla/QA/Automated_testing
---
<div class="note"><strong>注:</strong> このページと<a href="/ja/Developing_Tests" title="ja/Developing tests">テストの開発</a>は統合が予定されています。</div>
<p>このページは Mozilla の開発者が利用できる自動テストのための選択肢の概要を提供します。</p>
<p>--enable-tests オプションを伴っての <a href="/ja/Simple_Firefox_build" title="ja/Simple_Firefox_build">Firefox のビルド</a>の後、あなたは objdir から、単純な make コマンドでいずれのリグレッションテストも実行することができます。</p>
<p>Mozilla はいくつかのテスティングフレームワークを使っています。以下に、低レベルのユニットテストから高レベルのシステムテストまで大雑把に並べて列挙します。</p>
<table> <thead> <tr> <th>TBPL<br> コード</th> <th>コマンド</th> <th>説明</th> </tr> </thead> <tbody> <tr> <td>(B)</td> <td><code>make check</code></td> <td><a href="/ja/Compiled-code_automated_tests" title="ja/Compiled-code_automated_tests">コンパイルが必要なコードのテスト</a>はスクリプトから利用可能でないインターフェースをテストできますが、書いたりメンテナンスしたりするのは大変です。</td> </tr> <tr> <td>X</td> <td><code>make xpcshell-tests</code></td> <td>JavaScript コードが <a href="/ja/XPConnect/xpcshell" title="ja/XPConnect/xpcshell">xpcshell</a> の上で動作します。テストは XPCOM コンポーネントにアクセスできますが、ドキュメントやウィンドウを伴った動作は容易ではありません。</td> </tr> <tr> <td>J</td> <td><code>make jstestbrowser</code></td> <td>JavaScript エンジンのリグレッションテストです。</td> </tr> <tr> <td>C</td> <td><code>make crashtest</code></td> <td>1つの Web ページが読み込まれます。</td> </tr> <tr> <td>R</td> <td><code>make reftest</code></td> <td>Web ページの<em>ペア</em>から成る <a href="/ja/Creating_reftest-based_unit_tests" title="ja/Creating_reftest-based_unit_tests">reftest</a> です。このテストはそれらのページが完全に同じように描画された場合にパスします。視覚的な Web 関係の機能のテストに適しています。</td> </tr> <tr> <td>M</td> <td><code>make mochitest-plain</code></td> <td><a href="/ja/Mochitest" title="ja/Mochitest">Mochitest のページ</a>がブラウザ上に低い権限で読み込まれます。Web 機能の徹底的なテストに適しています。</td> </tr> <tr> <td rowspan="2">Moth</td> <td><code>make mochitest-chrome</code></td> <td><a href="/Ja/Chrome_tests" title="ja/Chrome_tests">Chrome mochitest のページ</a>が高い権限で読み込まれます。</td> </tr> <tr> <td><code>make mochitest-browser-chrome</code></td> <td><a href="/Ja/Browser_chrome_tests" title="ja/Browser_chrome_tests">Browser chrome テスト</a>がブラウザウィンドウのスコープで実行されます。フロントエンドのコードを直接テストするのに適しています。</td> </tr> <tr> <td>Z</td> <td><a class=" link-https" href="https://bugzilla.mozilla.org/show_bug.cgi?id=610941#c9">mozmill instructions</a></td> <td><a class="internal" href="/ja/Mozmill_Tests" title="ja/Mozmill Tests">Mozmill</a> は記録/再生型の自動化ツールです。エンドユーザの操作を、自動化のための API を使った JavaScript としてキャプチャします。</td> </tr> </tbody>
</table>
<p>R（reftest）と C（crashtest）を除いて、すべての個々のテストは個別に成功および失敗の条件を定義しています。</p>
<p>すべてのテストスイートは、クラッシュ、ハングアップ、そして（デバッグビルドにおいては）<a class=" link-https" href="https://wiki.mozilla.org/Performance:Leak_Tools">trace-refcnt leaks</a> をテストの失敗として扱います。<a href="/ja/NS_ASSERTION" title="ja/NS ASSERTION">NS_ASSERTION</a> は X（xpcshell-tests）においては致命的なエラー、R（reftest）/C（crashtest）/J（jstestbrowser）では注意が必要な失敗として扱われ、M（mochitest-plain）では無視されます。</p>
<p>ほとんどのテストスイートは共通の<a href="/ja/Test_log_format" rel="internal">テストログの形式</a>を共有していますので、実行時の失敗を探す場合は UNEXPECTED で検索できます。</p>
<p><code>EXTRA_TEST_ARGS='--debugger=gdb' make [suite]</code> でデバッグすることもできます。</p>
<h3 id="Further_Reading" name="Further_Reading">追加情報</h3>
<p>{{ interwiki('wikimo', 'SoftwareTesting:Scratchpad', 'wikimo:SoftwareTesting:Scratchpad') }}ページに書かれた内容は無視して、{{ interwiki('wikimo', 'SoftwareTesting', 'wikimo:SoftwareTesting') }}だけを参照してください。Scratchpadは作業中の物で、まず間違いなく、情報が古いか間違っています。</p>
<p>何か読み物を探しているなら、{{ interwiki('wikimo', 'SoftwareTesting', 'wikimo:SoftwareTesting') }}および<a href="/Ja/Automated_testing_tips_and_tricks" title="ja/Automated_testing_tips_and_tricks">自動テストのTipsとトリック</a>というドキュメントもあります。</p>
<p>進行中のさらなる試みが他にもあります。:</p>
<ul> <li>あなたはスタンドアロンのテストプログラムをC/C++で書くことができます。この選択肢は、XPCOMを経由せずに機能をテストするために利用することができます。 <ul> <li><em>{{ Bug(343673) }}では、ある個人の努力を追跡していますが、最近は動きがないようです。</em></li> <li><em>{{ Bug(346703) }}はそれをどのように実行するのかの例を含んでいます。</em></li> </ul> </li> <li>ブラウザの表示内容として実行されるテストを書くために、<a class="external" href="http://www.jsunit.net/">JSUnit</a> が利用できます。特にDOMやパーサのテストに便利ですが、しかしChrome特権を必要とする処理はできません。 <ul> <li>完全なブラウザのインスタンスを必要とするため、JsUnitはおそらく当分の間、make checkの対象にはならないでしょう。</li> <li>{{ interwiki('wikimo', 'SoftwareTesting#Ideas to Collect', 'wikimo:SoftwareTesting#Ideas_to_Collect') }}にはいくつかのjsunitの例が列挙されています。</li> <li>より詳しい情報は、{{ interwiki('wikimo', 'SoftwareTesting:Tools:jsUnit', 'wikimo:SoftwareTesting:Tools:jsUnit') }}のドキュメントを参照してください。</li> <li>例として、いくつかの<a class="external" href="http://beaufour.dk/xftst/">XForms tests</a>がJsUnitを使用しています。</li> </ul> </li>
</ul>
<h3 id="Existing_Test_Harnesses_and_Frameworks" name="Existing_Test_Harnesses_and_Frameworks">既存のテストハーネスとフレームワーク</h3>
<p>（元文書：{{ interwiki('wikimo', 'SoftwareTesting:Catalog_of_Automated_Tests', 'wikimo:SoftwareTesting:Catalog_of_Automated_Tests') }}）</p>
<ul> <li><a class="external" href="http://wiki.mozilla.org/Performance:Tinderbox_Tests">Tinderbox performance tests</a></li> <li><a class="external" href="http://lxr.mozilla.org/mozilla/source/browser/components/places/tests/">Places test script</a></li> <li><a class="external" href="http://lxr.mozilla.org/mozilla/source/netwerk/test/unit/">Netwerk unit tests</a></li> <li><a class="external" href="http://lxr.mozilla.org/mozilla/source/js/tests/">javascript tests</a></li> <li><a class="external" href="http://lxr.mozilla.org/mozilla/source/security/nss/tests/">nss tests</a></li> <li><a class="external" href="http://landfill.mozilla.org/mxr-test/mozilla/source/nsprpub/pr/tests/">nspr tests</a></li> <li><a class="external" href="http://www.mozilla.org/newlayout/doc/regression_tests.html">layout tests - diff of frame tree dump against golden master</a></li> <li><a class="link-https" href="https://bugzilla.mozilla.org/show_bug.cgi?id=301260">bz's copy of netwerk tests for xmlserializer</a></li> <li><a class="external" href="http://www.w3.org/DOM/Test/">W3C DOM Tests</a>  <a class="external" href="http://www.edwardh.com/jsunit/">jsunit</a>を使用</li> <li><a class="external" href="http://wiki.mozilla.org/XSLT_Tests">XSLT Tests</a></li> <li><a class="external" href="http://hixie.ch/tests/MANIFEST" title="http://hixie.ch/tests/MANIFEST">http://hixie.ch/tests/MANIFEST</a> hixieによるすべてのテスト</li> <li><a class="external" href="http://hixie.ch/tests/MANIFEST-visual" title="http://hixie.ch/tests/MANIFEST-visual">http://hixie.ch/tests/MANIFEST-visual</a> hixieによるテストのうち、動的でない物だけのサブセット</li> <li><a class="external" href="http://www.allpeers.com/blog/2005/09/28/foxunit-unit-test-framework-for-firefox/">FoxUnit</a> - AllPeers folksによる、jUnitに似たFirefox用のテスト実行環境</li>
</ul>
<p>{{ languages( { "en": "en/Mozilla_automated_testing", "es": "es/Pruebas_automatizadas_de_Mozilla" } ) }}</p>
