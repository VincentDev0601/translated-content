---
title: Detección del navegador y cobertura a múltiples navegadores
slug: Detección_del_navegador_y_cobertura_a_múltiples_navegadores
tags:
  - Desarrollo_Web
  - Todas_las_Categorías
translation_of: Archive/Web/Browser_Detection_and_Cross_Browser_Support
---
<p>La detección inapropiada de navegador puede ser la pesadilla del mantenimiento de la web. Re-evaluar los puntos básicos de cuándo y cómo detectar los agentes de usuario (<em>user agents</em>) es crucial para crear un contenido web mantenible y aceptable para múltiples navegadores. Este artículo revisa varias aproximaciones a la detección de navegadores y su utilidad en circunstancias específicas para llegar a una aproximación a la detección de navegadores basada en el sentido común.</p>
<h3 id="Consejo_rápido">Consejo rápido</h3>
<p>Para determinar si el usuario visitante está utilizando un navegador basado en Gecko, basta con probar con:</p>
<p><span class="highlightgreen"><code>navigator.product == 'Gecko'</code></span></p>
<p>o buscar la secuencia:</p>
<p><span class="highlightgreen"><code>'Gecko/'</code></span> en el <span class="highlightgreen"><code>navigator.userAgent</code></span>. Debe tenerse en cuenta que algunos otros navegadores como Safari incluyen <code>(like Gecko)</code> en su cadena de agente de usuario y pueden confundir algunas comprobaciones simples.</p>
<h3 id="Introducción">Introducción</h3>
<p>En un mundo <em>ideal</em> se podría escribir HTML, XML, CSS y JavaScript y preocuparse sólo por los estándares de W3C y ECMA. Sin embargo, no vivimos en tal mundo por el momento. Debido a fallos, implementaciones incompletas de los estándares y navegadores anticuados, los desarrolladores web deben ser capaces de determinar qué navegador está usando un visitante y proporcionar el contenido y código script apropiado.</p>
<p>Aunque la detección del navegador es quizás la tarea de script más común que aborda cualquier desarrollador web, parece que la variedad de diferentes estrategias en uso para detectar navegador es ilimitada. Como miembro del equipo de evangelismo de Netscape que ha pasado más de un año investigando el contenido web, puedo decir sin duda que la mayoría de los problemas de compatibilidad encontrados en la web hoy en día se deben a una falta de comprensión de los estándares combinada con estrategias de detección de navegadores inadecuada e inapropiada.</p>
<p>Este artículo intenta proporcionar una visión superficial de las estrategias y buenas prácticas de detección de navegadores. Para recomendaciones más específicas, puede leer el <a href="/es/Manual_de_Compatibilidad_de_Gecko" title="es/Manual_de_Compatibilidad_de_Gecko">Manual de Compatibilidad de Gecko</a>.</p>
<h3 id="Gecko">Gecko</h3>
<p>Aunque muchos desarrolladores web conocen Firefox, los navegadores de Mozilla y Netscape 6/7, muchos menos son conscientes de que estos navegadores son miembros de una familia completa de agentes de usuario basados en <strong>Gecko layout engine</strong> que incluyen el navegador comercial CompuServe 7, y navegadores de código abierto como <a class="external" href="http://www.gnome.org/projects/epiphany/">Epiphany</a>, <a class="external" href="http://galeon.sourceforge.net/">Galeon</a>, <a class="external" href="http://caminobrowser.org/">Camino</a>, y <a class="external" href="http://kmeleon.sourceforge.net/">Kmeleon</a>.</p>
<p>Gecko se diseñó desde el principio para cumplir con los estándares del W3C HTML, W3C CSS, W3C XML, W3C DOM, y ECMAScript (JavaScript). También incluye características de compatibilidad que permiten gestionar razonablemente el contenido <em>heredado</em> que se desarrolló para generaciones anteriores de navegadores como Nescape Navigator 4 así como características que proporcionan compatibilidad con Internet Explorer 5 y 6. A diferencia de otros navegadores, Gecko es realmente un navegador para múltiples plataformas y proporciona idéntica cobertura en todos los sistemas operativos donde está admitido.</p>
<p>La manera más fácil de tratar correctamente Gecko es crear contenido que sólo use los estándares. Desafortunadamente, ningún otro navegador implementa los estándares de una manera tan completa como Gecko, lo que quiere decir que los autores y desarrolladores web se ven forzados a continuar proporcionando cobertura a otros navegadores que no admiten los estándares tan bien. Afortunadamente, otros navegadores como Opera 7/8, y en menor medida Internet Explorer 5 y 6 para Windows e Internet Explorer 5 para Macintosh también implementan los estándares hasta cierto punto. Estos otros navegadores también parecen estar avanzando hacia una implementación más completa y rigurosa de los estándares y se espera que, en el futuro, los autores y desarrolladores web podrán olvidarse de la detección de navegadores al menos en lo relativo a las características gobernadas por estándares.</p>
<p>Aún se debe resolver cómo desarrollar contenido basado en estándares sin dejar de aprovechar las diferentes implementaciones de los navegadores modernos y, al mismo tiempo, admitir (en menor grado) los navegadores más antiguos y capaces. La detección de navegadores es clave para cumplir esta tarea.</p>
<h3 id="Resumen_de_la_historia_de_la_detección_de_navegadores">Resumen de la historia de la detección de navegadores</h3>
<p>Para entender por qué muchas estrategias comunes de detección de navegadores son inapropiadas, hay que referirse primero a cómo surgieron estas estrategias.</p>
<p>En los primeros días de la web, <a class="external" href="http://www.w3.org/MarkUp/">HTML</a> era muy simple, no estandarizado y no incluía ninguna capacidad para scripts del lado cliente. HTML en sí mismo no se estandarizó hasta que se presentó HTML 2.0 a finales de 1995 y ni siquiera incluía tablas. Los suministradores de navegadores como Netscape y Microsoft competían para añadir <em>características</em> atractivas al HTML que implementaban en sus navegadores para proporcionar el contenido más atractivo y rico a sus usuarios e inducir a los autores web a hacer uso de ello. Las capacidades de los navegadores para incluir lo último y mejor en contenidos cambiaban casi diariamente.</p>
<p>Los autores web se encontraron desde el principio con una variedad de navegadores, algunos de los cuales implementaban la mejor y última versión de HTML y algunos que no lo hacían. La solución era o bien proporcionar el mínimo común denominador de HTML o usar técnicas de detección de navegadores en el servidor web para enviar contenido personalizado a cada navegador dependiendo del grado de implementación que proporcionaba éste. Acababa de nacer la detección de navegadores en el lado del servidor usando las cadenas de agente de usuario.</p>
<p>Las cadenas de agente de usuario se definen en el protocolo HTTP y están disponibles para los servidores web (refiérete al <a class="external" href="http://tools.ietf.org/html/rfc1945" title="http://tools.ietf.org/html/rfc1945">RFC 1945</a> - Hypertext Transfer Protocol 1.0 and <a class="external" href="http://tools.ietf.org/html/rfc2068" title="http://tools.ietf.org/html/rfc2068">RFC 2068</a> - Hypertext Transfer Protocol 1.1).</p>
<p>La aproximación más común en este momento era distinguir los agentes de usuario por <em>vendor (suministrador)</em> y <em>version (versión)</em> usando la cadena de agente de usuario recibida. Aunque esta aproximación se consideraba razonable en aquel momento, causó problemas a los suministradores de navegadores desde el principio. Los navegadores Netscape originales usaban una cadena de usuario que comenzaba con el nombre en clave del navegador Netscape seguido por su número de versión, p.e. <code>Mozilla/version</code> seguido por un token de comentario que daba información adicional relativa al sistema operativo usado, etc. Puesto que las primeras técnicas de detección de navegadores se basaban en buscar un navegador basado en Netscape y sólo proporcionaban contenido personalizado a los navegadores que usaban la cadena de usuario <code>Mozilla/version</code>, otros suministradores hicieron norma el uso de <code>Mozilla/version</code> para indicar que eran compatibles con una versión en concreto de Netscape. Ya que otros navegadores <em>fingían</em> ser navegadores Netscape y codificaban su información de versión de una manera no estándar en el área de comentarios del agente de usuario, la tarea de determinar qué navegador se estaba usando se convirtió en más complicada de lo que debía haber sido.</p>
<p>Netscape Navigator 2 introdujo la capacidad de ejecutar JavaScript en los navegadores web. A medida que la evolución de los navegadores continuó, aparecieron las diferencias en la implementación del script y los objetos admitidos por el navegador. Los autores web ya no debían sólo detectar los navegadores web en sus servidores web, sino que podían ahora ejecutar scripts en el lado cliente (en el mismo navegador) que podían usarse para distinguir navegadores. Una de las primeras aproximaciones a la detección de navegadores en el lado cliente incluía probar si el navegador implementaba determinados <em>objetos</em>. Un ejemplo de esta aproximación era probar la existencia del objeto <code>document.images</code>.</p>
<p>Aunque la <em>detección basada en objetos</em> se usó en algunas circunstancias, muchos autores web continuaron usando la aproximación <em>vendor/version</em> para distinguir navegadores web en sus scripts del lado cliente. Puesto que la cadena de agente de usuario era accesible como una propiedad del objeto <code>navigator</code> (p.e. <code>navigator.userAgent</code>), muchos autores web usaron la misma lógica en sus scripts del lado cliente que ya habían usado anteriormente en el lado del servidor. Además de <code>navigator.userAgent</code> estaban disponibles otras propiedades como <code>appName</code> y <code>appVersion</code> en el objeto <code>navigator</code> que podían usarse en las estrategias de detección de navegadores <em>vendor/version</em>.</p>
<p>El ejemplo clásico de esta estrategia de detección <em>vendor/version</em> en el lado cliente puede encontrarse en el <a class="external" href="http://www.mozilla.org/docs/web-developer/sniffer/browser_type.html">Ultimate Browser Sniffer</a>. Este script y variantes del mismo pueden encontrarse hoy en día en muchos sitios web, donde es una fuente común de problemas de detección.</p>
<p>Netscape Navigator 4 e Internet Explorer 4 introdujeron la capacidad de manipular el contenido HTML en un navegador (Dynamic HTML o <a href="/es/DHTML" title="es/DHTML">DHTML</a>) en lugar de en el servidor web y comenzaron la introducción de las implementaciones de <a href="/es/CSS" title="es/CSS">CSS</a> para proporcionar estilos al contenido. Esta generación de navegadores, además de compartir varias características que no estaban disponibles en versiones previas, implementaban cada una su propias (e incompatibles) capacidades competidoras para manipular contenido en una página web.</p>
<p>Dado que los navegadores de cada suministrador implementaban diferentes objetos para ejecutar DHTML, los autores web comenzaron a usar la detección de objetos para distinguir <em>vendor/version</em> a través de la existencia de objetos JavaScript concretos. La existencia de <code>document.layers</code> era suficiente para estar seguro de que el navegador era Netscape Navigator 4 mientras que la existencia de <code>document.all</code> era suficiente para estar seguro de que el navegador era Microsoft Internet Explorer 4. Una suposición implícita que muchos autores web de esa época hacían era que sólo había dos tipos de navegadores disponibles... Netscape Navigator y Microsoft Internet Explorer.</p>
<p>Estas estrategias de clasificar los navegadores por <em>vendor/version</em>, asumiendo que los únicos navegadores en uso eran Netscape Navigator 4 o Internet Explorer 4 <strong>falló</strong> cuando aparecieron navegadores alternativos como los basados en Gecko. Muchos de los problemas informados en la prensa sobre la incapacidad de Gecko de mostrar contenido estaban directamente relacionados con estrategias de detección de navegadores inadecuadas e inapropiadas.</p>
<p>Una nota final en las estrategias <em>vendor/version</em>. Un desarrollador web que use completamente la detección y distinciones de navegador en el <a class="external" href="http://www.mozilla.org/docs/web-developer/sniffer/browser_type.html">Ultimate Browser Sniffer</a> producirá código que usa bifurcaciones de código para muchos navegadores y versiones. Imagine intentar mantener un sitio web que use muchas de las variables disponibles de Ultimate Browser Sniffer.</p>
<table> <tbody> <tr> <td>suministrador del navegador</td> <td>is_nav, is_ie, is_opera, is_hotjava, is_webtv, is_TVNavigator, is_AOLTV</td> </tr> <tr> <td>número de versión del navegador</td> <td>is_major (integer que indica el número de versión mayor: 2, 3, 4 ...), is_minor (float que indica el número de versión completo: 2.02, 3.01, 4.04 ...)</td> </tr> <tr> <td>suministrador Y número de version mayor del navegador</td> <td>is_nav2, is_nav3, is_nav4, is_nav4up, is_nav6, is_nav6up, is_gecko, is_ie3, is_ie4, is_ie4up, is_ie5, is_ie5up, is_ie5_5, is_ie5_5up, is_ie6, is_ie6up, is_hotjava3, is_hotjava3up, is_opera2, is_opera3, is_opera4, is_opera5, is_opera5up</td> </tr> <tr> <td>número de versión de JavaScript</td> <td>is_js (float que indica el número completo de versión de JavaScript: 1, 1.1, 1.2 ...)</td> </tr> <tr> <td>plataforma y versión de SO</td> <td>is_win, is_win16, is_win32, is_win31, is_win95, is_winnt, is_win98, is_winme, is_win2k, is_os2, is_mac, is_mac68k, is_macppc, is_unix, is_sun, is_sun4, is_sun5, is_suni86, is_irix, is_irix5, is_irix6, is_hpux, is_hpux9, is_hpux10, is_aix, is_aix1, is_aix2, is_aix3, is_aix4, is_linux, is_sco, is_unixware, is_mpras, is_reliant, is_dec, is_sinix, is_freebsd, is_bsd, is_vms</td> </tr> </tbody>
</table>
<p><strong>¡Detectar navegadores usando este nivel de detalle es inmanejable, inmantenible y viola los principios básicos de la autoría web!</strong> Se recomienda profundamente a todo el mundo que evite esta trampa.</p>
<h3 id="Problemas_causados_por_una_detección_inapropiada_del_navegador">Problemas causados por una detección inapropiada del navegador</h3>
<h4 id="Exclusión_de_navegadores_desconocidos">Exclusión de navegadores desconocidos</h4>
<p>Si en su lógica de detección sólo proporciona pruebas para navegadores específicos, su sitio no será utilizable en caso de que un visitante use un navegador diferente. Considere el siguiente ejemplo:</p>
<p><code> </code></p>
<pre>// PROCEDIMIENTO ERRÓNEO - no usar!
if (document.all)
{
// Internet Explorer 4+
document.write('&lt;link rel="stylesheet" type="text/css" src="style-ie.css"&gt;');
}
else if (document.layers)
{
// Navigator 4
document.write('&lt;link rel="stylesheet" type="text/css" src="style-nn.css"&gt;');
}
</pre>
<p>Observe cómo el ejemplo anterior sólo proporcionaba hojas de estilo para Internet Explorer y Navigator 4, e incluso así sólo si el visitante tiene JavaScript activado en su navegador. Los usuarios de Netscape 6, Netscape 7, CompuServe 7, Mozilla, Opera no podrán ver el sitio correctamente.</p>
<h4 id="Interpretación_errónea_de_los_navegadores">Interpretación errónea de los navegadores</h4>
<p>Un error común que hacen los autores web es asumir que si un navegador no es Netscape Navigator 4, ha de ser Internet Explorer y viceversa. Por ejemplo:</p>
<pre>// PROCEDIMIENTO ERRÓNEO - no usar!
if (document.all)
{
  // Internet Explorer 4+
  elm = document.all['menu'];
}
else
{
  // Se asume Navigator 4
  elm = document.layers['menu'];
}
</pre>
<p>Observe cómo el ejemplo anterior asumía que cualquier navegador que no sea Internet Explorer ha de ser Navigator 4 e intentaba usar <em>Layers</em>. Éste es un origen común de problemas al usar navegadores basados en Gecko así como Opera. Un error similar puede verse en el siguiente ejemplo:</p>
<pre>// PROCEDIMIENTO ERRÓNEO - no usar!
if (document.layers)
{
  // Navigator 4
  elm = document.layers['menu'];
}
else
{
  // Se asume Internet Explorer 4+
  elm = document.all['menu'];
}
</pre>
<p>Netscape 6 fue el primer navegador comercial publicado basado en Gecko. Debido a una falta de comunicación y comprensión, muchos sitios han creado estrategias de detección inapropiadas basadas en la cadena de agente de usuario de Netscape 6. La cadena de agente de usuario de Netscape 6 sigue los estándares HTTP para especificar la versión del agente de usuario (véase <a class="external" href="http://www.mozilla.org/build/revised-user-agent-strings.html">Mozilla user-agent strings</a> y <a href="/es/Cadenas_de_agente_de_usuario_de_Gecko" title="es/Cadenas_de_agente_de_usuario_de_Gecko">Cadenas de agente de usuario de Gecko</a>).</p>
<pre class="eval">Mozilla/5.0 (...) Gecko/20001108 Netscape6/6.0
</pre>
<p>El primer par suministrador/versión (Mozilla/5.0) indica que Netscape 6 es un navegador de <em>quinta</em> generación y que no es idéntico a los navegadores anteriores. Todos los navegadores basados en Gecko devuelven actualmente Mozilla/5.0 como su versión primaria aunque ningún otro navegador lo hace así en este momento. Se confía en que, cuando otros suministradores de navegadores alcancen el mismo nivel de cumplimiento de estándares que Gecko y comiencen a eliminar la compatibilidad con navegadores antiguos, ellos también comenzarán a informar que su versión es 5. Asumir que únicamente Gecko usa Mozilla/5.0 hará que su lógica de detección de navegadores falle tan pronto como otro suministrador publique un navegador que devuelva Mozilla/5.0.</p>
<p>El segundo par suministrador/versión (Gecko/20001108) identifica Netscape 6 como una versión concreta de Gecko que se compiló el 8 de noviembre de 2000. Si debe detectar Gecko usando la cadena de agente de usuario, Gecko/CCYYMMDD es la cadena más adecuada a buscar.</p>
<p>El tercer par suministrador/versión (Netscape6/6.0) identifica esta instancia en particular de un navegador Gecko como Netscape 6.0. Muchos sitios se centraron en la existencia de la cadena Netscape6 en el agente de usuario y usaron comprobaciones similares a:</p>
<pre>if (navigator.userAgent.indexOf('Netscape6') != -1)
{
  // Netscape 6 code
}
</pre>
<p>Observe cómo este tipo de detección obvia cualquier otro navegador basado en Gecko. Desafortunadamente, la cadena de agente de usuario de Netscape 6 no era suficientemente generalizable debido a su uso de la cadena Netscape6 como descripción del suministrador. Netscape 7 corrige este error e introduce otra posibilidad de que falle la detección basada en la cadena de agente de usuario.</p>
<pre class="eval">Mozilla/5.0 (...) Gecko/200207XX Netscape/7.0
</pre>
<p>Observe cómo Netscape 7 ya no usa la cadena Netscape6 como suministrador. Cualquier estrategia de detección de cadena de usuario para Gecko basada en la existencia de la cadena Netscape6 fallará si el navegador es Netscape 7.</p>
<h4 id="Utilización_de_objetos_JavaScript_para_determinar_el_suministradorversión_(vendorversion)">Utilización de objetos JavaScript para determinar el <em>suministrador/versión</em> (vendor/version)</h4>
<p>Como ya se ha discutido, una aproximación común en el pasado fue usar objetos para clasificar los navegador por <em>suministrador/versión</em>. Un tipo común de detección que originalmente se escribió para identificar únicamente Netscape Navigator 4 e Internet Explorer 4 podría tener este aspecto:</p>
<pre>// PROCEDIMIENTO ERRÓNEO - no usar!
if (document.all)
{
  // IE4
  height = document.body.offsetHeight;
}
else if (document.layers)
{
  // NN4
  height = window.innerHeight;
}
else
{
  // other
  height = 0;
}
</pre>
<p>Con la introducción de DOM de W3C, el método estándar <code>document.getElementById</code> pasó a estar disponible en Internet Explorer 5 y más tarde en Netscape 6 (Gecko). Muchos autores web decidieron que la manera más fácil de identificar Netscape Gecko era añadir otra bifurcación de código como sigue:</p>
<pre>// PROCEDIMIENTO ERRÓNEO - no usar!
if (document.all)
{
  // IE4
  height = document.body.offsetHeight;
}
else if (document.layers)
{
  // NN4
  height = window.innerHeight;
}
else if (document.getElementById)
{
  // Creen que esto es Gecko
  // ¡pero podrían estar equivocados!
  height = window.innerHeight;
}
else
{
  // Otros
  height = 0;
}
</pre>
<p>La aproximación es incorrecta ya que asumen que el único otro navegador además de Internet Explorer 5+ que implementa <code>document.getElementById</code> es Gecko. Esto no es cierto hoy en día y será cada vez menos cierto a medida que aparezcan más navegadores en el futuro que implementen los estándares DOM de W3C.</p>
<h3 id="Recomendaciones">Recomendaciones</h3>
<h4 id="Centrarse_en_los_estándares_y_no_en_navegadores_concretos">Centrarse en los estándares y no en navegadores concretos</h4>
<p>Si bien el período de 1994 a 2000 estuvo dominado por navegadores incompatibles y no estándares de Netscape y Microsoft, ahora el factor dominante en el desarrollo web son los estándares propuestos por el World Wide Web Consortium <a class="external" href="http://www.w3.org/">(W3C)</a>. Los estándares son importantes para los desarrolladores web debido al incremento de la flexibilidad, potencia de presentación y ayudas a los usuarios con alguna discapacidad, por citar sólo algunas razones.</p>
<p>Orientar el contenido de una web a suministradores concretos ignora la posibilidad de que puedan aparecer otros navegadores que implementen los mismos estándares en el futuro. Un problema común en la web hoy en día es la suposición de que los únicos navegadores en el mundo son Netscape Navigator y Microsoft Internet Explorer. Esto ignora la existencia de <a class="external" href="http://www.opera.com">Opera</a> así como los dispositivos de mano más modernos que se están usando para acceder a la web ahora y en el futuro.</p>
<p>Los navegadores basados en Mozilla (como Firefox), <a class="external" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnie60/html/cssenhancements.asp">Internet Explorer 6</a> en Windows, e Internet Explorer 5 para Macintosh implementan todos ellos <em>DOCTYPE switching</em>. Ésta es una técnica por la cual estos navegadores pueden cambiar de un <a href="/en/Mozilla's_Quirks_Mode">modo con "veriecuetos" ("Quirks" mode)</a> (que emula las implementaciones con errores de los navegadores de generaciones anteriores) a un modo de estándares (que se adhiere más estrictamente a los estándares). Para los contenidos nuevos, se recomienda el uso de un DOCTYPE que invoque el modo de estándares en Gecko e Internet Explorer 6. Esto asegurará que sus diseños funcionen de manera similar en estos navegadores así como en otros navegadores que implementen los estándares.</p>
<h4 id="Proporcionar_una_alternativa_a_los_navegadores_desconocidos">Proporcionar una alternativa a los navegadores desconocidos</h4>
<p>Proporcione siempre contenido y bifurcaciones de código para los navegadores desconocidos. La aproximación recomendada es asumir que cualquier navegador no conocido implementa los estándares básicos de HTML y CSS y hasta cierto nivel JavaScript y DOM de W3C. Esto garantizará que su contenido será admitido hoy y en el futuro por <strong>cualquier</strong> navegador que implemente los estándares.</p>
<h4 id="Limitar_el_uso_de_características_específicas_de_un_suministradorversión">Limitar el uso de características específicas de un suministrador/versión</h4>
<p>Crear contenido que sea conforme a los estándares es la manera más fácil de dar cobertura al rango más amplio posible de agentes de usuario y decrementar sus costes de mantenimiento. Aunque no siempre es posible evitar las diferencias entre valores específicos de <em>suministrador/versión</em> de varios navegadores, el uso de tales características y la distinción entre navegadores basada en valores de <em>suministrador/versión</em> debería estar estrictamente limitada a aquellas áreas donde aún se requiera.</p>
<h4 id="Limitar_el_uso_de_detección_basada_en_la_cadena_de_agente_de_usuario">Limitar el uso de detección basada en la cadena de agente de usuario</h4>
<p>La detección de navegadores en el lado del servidor requiere el uso de cadenas de agente de usuario. Recomendamos que el uso de la detección basada en cadenas de agente de usuario se limite a situaciones en el lado del servidor y únicamente a aquellas circunstancias donde es absolutamente necesario, como cuando es preciso obtener detalles de la rama de Gecko.</p>
<p>Hay razones <strong>legítimas</strong> para usar la cadena de agente de usuario (o el objeto <code>navigator</code>) para determinar exactamente qué suministrador, versión o sistema operativo se está usando. Muchos sitios financieros (bancos, firmas que operan en bolsa online, etc.) tienen políticas muy estrictas con respecto a qué navegadores prestan asistencia. Esto se debe al historial de problemas de seguridad que se han descubierto en navegadores antiguos. Si tiene la necesidad de permitir sólo a algunas versiones concretas de navegadores que usen su sitio seguro, entonces la cadena de agente de usuario y la información relacionada del objeto <code>navigator</code> pueden resultar muy útiles.</p>
<p>También puede usar información detallada con respecto a la versión de un navegador para solventar fallos en versiones específicas de un navegador. Sin embargo, esto puede derivar rápidamente en una pesadilla para el mantenimiento si no es cuidadoso. Se recomienda que tome estas medidas sólo con carácter temporal y, tan pronto como se corrijan en versiones más modernas del navegador, que requiera a sus visitantes que actualicen éste.</p>
<h4 id="Proporcionar_páginas_básicas_para_los_navegadores_más_antiguos">Proporcionar páginas básicas para los navegadores más antiguos</h4>
<p>Ningún sitio web comercial de hoy en día considera un requisito que se visualice correctamente en Netscape Navigator versiones 1, 2 o 3, o Microsoft Internet Explorer 3. Las razones son que las capacidades de esos navegadores son demasiado limitadas comparadas con los navegadores más modernos, los requerimientos añadidos de desarrollo y control de calidad incrementan demasiado el coste de desarrollo de los sitios web y la cuota de mercado de tales navegadores no justifica el coste de tenerlos en cuenta.</p>
<p>Una de las decisiones más importantes que puede tomar de cara a mejorar la calidad de su sitio y reducir los costes de desarrollo, mantenimiento y control de calidad es proporcionar sólo una atención limitada a los navegadores más antiguos tales como Netscape Navigator 4 e Internet Explorer 4. Una de las aproximaciones más comunes en los sitios web más importantes es proporcionar una versión de bajo nivel de una página web a los navegadores más antiguos a la vez que proporciona una página más rica que usa CSS y JavaScript avanzados a los navegadores más modernos. Esto puede conseguirse mediante la detección del navegador en el lado del servidor, ya sea como parte de una solución basada en scripts o como parte de la capacidad nativa del servidor web de proporcionar diferente contenido a diferentes agentes de usuario. Esta aproximación no requiere necesariamente que prepare páginas separadas para los navegadores modernos y los más simples. Una solución común es escribir el contenido en un formato neutral como XML y usar transformaciones XSLT para generar el HTML necesario para cada clase de navegador.</p>
<p>El que un navegador en concreto debe recibir la versión de bajo nivel depende hasta cierto punto de qué características de JavaScript o CSS se estén usando en el contenido avanzado. Netscape Navigator e Internet Explorer 4 deberían considerarse ambos navegadores de bajo nivel para la mayoría de las páginas debido a su limitada implementación de los estándares basados en CSS y el más reciente DOM. Si sus páginas hacen uso de JavaScript avanzado que manipula o crea nuevo contenido usando la especificación DOM Core de W3C, entonces Opera 5 y 6 también deben considerarse de bajo nivel debido a su limitada implementación de DOM de W3C.</p>
<p>El futuro pertenece a los desarrolladores y navegadores que implementen los estándares. Si deja de sacar partido a los cambios que se avecinan en los navegadores, los competidores se comeran su comida. Cuando eso suceda, el único lugar en el que se podrá encontrar su sitio web es en el <a class="external" href="http://web.archive.org">archivo web</a>.</p>
<h4 id="Usar_detección_no_basada_en_script_cuando_sea_posible">Usar detección no basada en script cuando sea posible</h4>
<p>Los navegadores más antiguos tienen muchas limitaciones que hacen que ignoren las características más avanzadas. El uso juicioso de estas limitaciones en los navegadores más antiguos le permitirá incluir contenido moderno sin dejar de prestar asistencia a los navegadores antiguos.</p>
<p>HTML proporciona varios métodos para detectar si una implementación incluye diversas características como scripts y marcos. Use estas capacidades naturales de HTML para extender el abanico de navegadores admitido por el contenido de su web.</p>
<h4 id="Usar_NOFRAMES_para_dar_cobertura_a_los_navegadores_que_no_implementan_marcos">Usar NOFRAMES para dar cobertura a los navegadores que no implementan marcos</h4>
<pre>&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;Marcos&lt;/TITLE&gt;
  &lt;/HEAD&gt;
  &lt;FRAMESET ROWS="30,*"&gt;
    &lt;FRAME SRC="foo.html"&gt;
    &lt;FRAME SRC="bar.html"&gt;
    &lt;NOFRAMES&gt;
      &lt;BODY&gt;
        &lt;P&gt;
          Esta página requiere marcos. Vea el mapa de sitio:  &lt;a href="noframes.html"&gt;&lt;/a&gt;.
        &lt;/P&gt;
      &lt;/BODY&gt;
    &lt;/NOFRAMES&gt;
  &lt;/FRAMESET&gt;
&lt;/HTML&gt;
</pre>
<h4 id="Usar_NOSCRIPT_para_dar_cobertura_a_los_navegadores_que_no_permiten_el_uso_de_scripts">Usar NOSCRIPT para dar cobertura a los navegadores que no permiten el uso de scripts</h4>
<p>Algunos navegadores pueden no implementar scripting, y algunos usuarios pueden tener los scripts desactivados en sus navegadores. Use la etiqueta NOSCRIPT para proporcionar a esos usuarios versiones alternativas de sus páginas que no usen scripts, o al menos notificarles de la necesidad de permitir la ejecución de scripts para poder visualizar su contenido correctamente.</p>
<p>Dado que navegadores tales como Netscape Navigator 4 e Internet Explorer 4 no implementan algunas de las adiciones más recientes al estándar JavaScript (ECMAScript), a menudo es necesario limitar el uso las características avanzadas de JavaScript tales como el procesamiento de <em>excepciones</em>. Una aproximación es requerir que los usuarios de navegadores que no admitan el nivel de JavaScript usado en su contenido <strong>desactiven</strong> JavaScript para poder usar su contenido. Puede hacer esto proporcionando un mensaje de error a los usuarios de navegadores más antiguos así como un contenido alternativo incluido en las etiquetas NOSCRIPT.</p>
<pre>&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;Sin script ('noscript')&lt;/TITLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;SCRIPT LANGUAGE="JavaScript"&gt;
      window.onerror = function ()
      {
        // Envía al usuario a una página describiendo las limitaciones
        // del navegador y le indica que tiene que desactivar
        // JavaScript para poder ver su sitio.
      }

      // Netscape Navigator 4 generará un error en cualquier
      // JavaScript que intente usar procesamiento de excepciones
      // con bloques try ... catch.
      try
      {
        // Código para implementar un menú bonito
      }
      catch (errores)
      {
        // Manejo de excepciones
      }
    &lt;/SCRIPT&gt;
    &lt;NOSCRIPT&gt;
      &lt;!--
      Si JavaScript no está activado, entonces el navegador
      mostrará los contenidos de la etiqueta NOSCRIPT
      que, en este caso, es un simple menú implementado
      como una lista no ordenada.
      --&gt;
      &lt;UL&gt;
        &lt;LI&gt;&lt;A HREF="choice1.html"&gt;Elección 1&lt;/A&gt;&lt;/LI&gt;
        &lt;LI&gt;&lt;A HREF="choice2.html"&gt;Elección 2&lt;/A&gt;&lt;/LI&gt;
      &lt;/UL&gt;
    &lt;/NOSCRIPT&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</pre>
<h4 id="Usar_SCRIPT_LANGUAGE_para_elegir_el_navegador_en_el_que_se_ejecuta">Usar SCRIPT LANGUAGE para elegir el navegador en el que se ejecuta</h4>
<p>La elección del lenguaje de scripting viene determinada por el atributo LANGUAGE de la etiqueta script. Internet Explorer 4 y superiores pueden admitir una variedad de lenguajes de script. Los más comunes son <em>VBSCRIPT</em> y <em>JavaScript</em>. Internet Explorer también usa <em>JSCRIPT</em> como un sinónimo de JavaScript. Puesto que otros navegadores no admiten los valores <em>VBSCRIPT</em> o <em>JSCRIPT</em> como atributo de lenguaje, puede usar éstos cuando desee que ciertos scripts se ejecuten únicamente por Internet Explorer 4 y superior.</p>
<pre>&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;Lenguajes Script&lt;/TITLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;SCRIPT LANGUAGE="JavaScript"&gt;
      // Código JavaScript para implementar un menú vistoso
      // Visible a todos los navegadores que admitan JavaScript
    &lt;/SCRIPT&gt;
    &lt;SCRIPT LANGUAGE="JScript"&gt;
      // Código JavaScript que usa características propietarias de
      // Internet Explorer no disponibles en otros navegadores
    &lt;/SCRIPT&gt;
    &lt;SCRIPT LANGUAGE="VBScript"&gt;
      // Codigo VBScript que usa características propietarias de
      // Internet Explorer no disponibles en otros navegadores
    &lt;/SCRIPT&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</pre>
<h4 id="Usar_las_limitaciones_CSS_de_Netscape_Navigator_4">Usar las limitaciones CSS de Netscape Navigator 4</h4>
<p>Es posible usar las limitaciones de Netscape Navigator 4 en su implementación CSS para excluir automáticamente ciertas reglas CSS de su interpretación por Navigator 4.</p>
<p>Por ejemplo, Navigator 4 no comprende la directiva @import en CSS y no cargará ninguna hoja de estilo CSS externa especificada vía @import. Esta técnica puede usarse para proporcionar reglas CSS básicas comunes para todos los navegadores (incluyendo Navigator 4) y, al mismo tiempo, proporcionar reglas más avanzadas en un archivo CSS externo para los navegadores más modernos con mejor cumplimiento CSS.</p>
<pre>&lt;STYLE type="text/css"&gt;
/* Reglas CSS para Navigator 4 */
&lt;/STYLE&gt;

&lt;STYLE type="text/css"&gt;
/* Reglas CSS avanzadas ignoradas por Navigator 4 */
@import "advanced.css";
&lt;/STYLE&gt;
</pre>
<p>Hay disponible una técnica similar para ocultar las reglas CSS de Navigator 4 aprovechando el hecho de que Navigator 4 ignorará las reglas CSS que aparezcan tras la secuencia /*/*/ en una hoja de estilos.</p>
<pre>&lt;STYLE type="text/css"&gt;
/* Reglas para Navigator 4 */

/*/*/
/* Reglas CSS avanzadas ignoradas por Navigator 4 */
&lt;/STYLE&gt;
</pre>
<p>DevEdge usa esta técnica para ocultar el CSS avanzado de Navigator 4.</p>
<h4 id="Usar_detección_de_objetos_orientada_a_características">Usar detección de objetos orientada a características</h4>
<p>La detección de objetos es un poderoso método para proporcionar cobertua a múltiples navegadores en su contenido web. Aunque puede usar la detección de objetos como un medio más para distinguir entre distintos suministradores y versiones, la técnica muestra su verdadero potencial cuando se usa para detectar características en lugar de navegadores.</p>
<p>La detección de objetos orientada a características consiste en comprobar la existencia de objetos específicos antes de intentar usarlos en un script. El ejemplo clásico es:</p>
<pre>if (document.images)
{
  // código que procesa las imágenes
}
</pre>
<p>La ventaja de la detección de características es que funcionará con independencia del suministrador y versión. Podemos reescribir el ejemplo anterior que ilustraba los problemas de usar objetos para determinar el suministrador y versión para que use en su lugar detección de características.</p>
<pre>if (document.body &amp;&amp; typeof(document.body.offsetHeight) == 'number')
{
  height = document.body.offsetHeight;
}
else if (typeof(window.innerHeight) == 'number')
{
  height = window.innerHeight;
}
else
{
  height = 0;
}
</pre>
<p>Observe cómo el ejemplo anterior no hace suposiciones sobre qué navegador se está usando. En su lugar, sólo comprueba los objetos que desea usar. Puesto que los valores numéricos podrían ser cero, el script prueba el tipo de los objetos para asegurarse de que son números.</p>
<h3 id="Gecko_y_Navigator_4">Gecko y Navigator 4</h3>
<p>Gecko es el reemplazo para el motor de dibujado de Navigator 4 y, como tal, retiene muchas características de Navigator 4. Las diferencias básicas entre Navigator 4 y Gecko pueden resumirse rápidamente en:</p>
<ul> <li><strong>Gecko cumple con los estándares</strong>. Gecko implementa muchos más estándares que Navigator 4 y los implementa correctamente, a diferencia de Navigator 4.</li> <li><strong>Gecko no implementa capas (Layers)</strong>. Navigator 4 introdujo la API de capas que usaba para manipular contenido y que formaba la base de DHTML en Navigator 4. Las capas, sin embargo, no fueron aceptadas por W3C ni en HTML ni en DOM. Dado que la misión de Gecko era ser el navegador más conforme a estándares posible, no se implementaron las capas. Esta falta de compatibilidad hacia atrás ha sido la causa de muchos problemas para los autores web, pero puede solucionarse fácilmente a través de un buen contenido y las estrategias de detección de navegadores correctas. A medida que el uso de Navigator 4 decrece y más autores usan los estándares en sus contenidos, las capas y los problemas que causan desaparecerán.</li>
</ul>
<h3 id="Gecko_e_Internet_Explorer">Gecko e Internet Explorer</h3>
<p>Gecko implementa cierto número de características propietarias de Internet Explorer, especialmente con respecto a su <a class="external" href="http://msdn.microsoft.com/library/">modelo de objetos DHTML</a>. La implementación en Gecko de las características de IE se ha ido incrementando paulatinamente desde la presentación de Netscape 6 en noviembre de 2000. La mejor aproximación para sacar partido de estas características de compatibilidad con IE en Gecko es usar la detección de características basada en objetos. Esto usará automáticamente esas características en Gecko si están disponibles en la versión de Gecko usada. Vea la <a href="/es/DOM_Client_Object_Cross-Reference/navigator" title="es/DOM_Client_Object_Cross-Reference/navigator">DOM Client Object Cross-Reference:navigator</a> para más detalles sobre qué objetos y propiedades de Internet Explorer están implementadas en qué versiones de Gecko.</p>
<p>Ciertas características de Internet Explorer <strong>no están implementadas en Gecko</strong>. Entre éstas se incluyen el objeto <code>window.event</code>, <em>behaviors</em>, filtros, transiciones y ActiveX.</p>
<h3 id="Cómo_(y_cuándo)_usar_el_objeto_navigator_al_detectar_Gecko">Cómo (y cuándo) usar el objeto navigator al detectar Gecko</h3>
<p>A menos que necesite específicamente detectar si se está usando Gecko, no use estos métodos. Sólo deberían usarse en circunstancias que no puedan ser resueltas usando la <em>detección de características mediante objetos</em> como, por ejemplo, cuando deben excluirse versiones específicas de Gecko por razones de seguridad.</p>
<p><strong>Nota:</strong> para la detección en el lado cliente, recomendamos usar el objeto <code>navigator</code> y sus propiedades. Toda la información devuelta en el objeto <code>navigator</code> también está disponible en la cadena de agente de usuario que puede usarse en el lado del servidor.</p>
<h4 id="Producto_(product)">Producto (<em>product</em>)</h4>
<p><code>navigator.product</code> es específico de los navegadores Gecko y siempre devolverá 'Gecko'. Ésta es una manera rápida y sencilla de determinar que un navegador está basado en Gecko.</p>
<h4 id="Etiqueta_de_la_rama_CVS_(CVS_Branch_Tag)">Etiqueta de la rama CVS (CVS Branch Tag)</h4>
<p>A partir de Gecko 0.9.0 (Netscape 6.1 en Gecko 0.9.2), <code>navigator.userAgent</code> contiene la etiqueta de la rama CVS del código fuente usado para crear la versión de Gecko usada en el navegador. La etiqueta de la rama está incluida en el área de comentario de la cadena de agente de usuario y está precedida de la secuencia 'rv:'. En el ejemplo siguiente, la etiqueta de la rama es a.b.c.</p>
<pre class="eval">Mozilla/5.0 (...; rv:a.b.c) Gecko/CCYYMMDD Suministrador/versión
</pre>
<p>Los navegadores Gecko compilados desde la misma rama comparten la misma versión básica de Gecko y pueden tratarse de manera similar en lo relativo a HTML, CSS, JavaScript, etc. Por ejemplo, Netscape 6.2, 6.2.1, 6.2.2, 6.2.3 y CompuServe 7 están, todos ellos, compilados a partir de la rama 0.9.4 y, por tanto, tienen el mismo comportamiento en muchos aspectos.</p>
<table> <caption>Etiquetas de ramas Gecko</caption> <tbody> <tr> <th>Navegador</th> <th>Etiqueta de rama</th> </tr> <tr> <td>Netscape 6.0</td> <td>contenía M18 en lugar del valor rv</td> </tr> <tr> <td>Netscape 6.1</td> <td>0.9.2</td> </tr> <tr> <td>Netscape 6.2</td> <td>0.9.4</td> </tr> <tr> <td>Netscape 6.2.1</td> <td>0.9.4</td> </tr> <tr> <td>Netscape 6.2.2</td> <td>0.9.4.1</td> </tr> <tr> <td>Netscape 6.2.3</td> <td>0.9.4.1</td> </tr> <tr> <td>CompuServe 7</td> <td>0.9.4.2</td> </tr> <tr> <td>Netscape 7.0</td> <td>1.0.1</td> </tr> <tr> <td>Netscape 7.01</td> <td>1.0.2</td> </tr> </tbody>
</table>
<p>Como puede ver, todas las versiones de Netscape 6.2 y CompuServe 7 fueron creadas de la rama 0.9.4. La distinción entre 0.9.4, 0.9.4.1, 0.9.4.2 es menor.</p>
<p><strong>Nota:</strong> la etiqueta de la rama es una cadena y puede contener más cosas que dígitos sueltos en un nivel concreto. Por ejemplo, es concebible que algún día existan etiquetas de ramas similares a 2.2.0 y 2.12.36. Puesto que estos valores son cadenas, no es posible realizar comparaciones entre cadenas para determinar qué rama es posterior. En nuestro ejemplo, la rama 2.2.0 se creó antes que la 2.12.36, pero una comparación de esos valores entre cadenas mostrará que '2.2.0' &gt; '2.12.36'. La función JavaScript geckoGetRv() proporciona una solución a este problema convirtiendo la etiqueta de la rama en la cadena de agente de usuario en un número de coma flotante donde cada nivel de la etiqueta de la rama es considerado un número entre 0-99.</p>
<table> <caption>Ejemplo de geckoGetRv()</caption> <tbody> <tr> <th>Etiqueta de rama</th> <th>geckoGetRv()</th> </tr> <tr> <td>0.9.2</td> <td>0.0902</td> </tr> <tr> <td>0.9.4</td> <td>0.0904</td> </tr> <tr> <td>0.9.4.1</td> <td>0.090401</td> </tr> <tr> <td>0.9.4.2</td> <td>0.090402</td> </tr> <tr> <td>1.0.1</td> <td>1.0001</td> </tr> <tr> <td>1.0.2</td> <td>1.0002</td> </tr> <tr> <td>2.2.0</td> <td>2.02</td> </tr> <tr> <td>2.12.36</td> <td>2.1236</td> </tr> </tbody>
</table>
<p>geckoGetRv() devuelve valores que pueden compararse usando mayor que, menor que, etc. geckoGetRv() no es parte oficial de Gecko; sin embargo, se proporciona como un ejemplo de aproximaciones que pueden tomarse para comparar las diferentes etiquetas de rama hoy y en el futuro.</p>
<h4 id="Fecha_de_compilación">Fecha de compilación</h4>
<p><code>navigator.productSub</code> es específico de los navegadores Gecko y devolverá una cadena que contiene la fecha en que se compiló el navegador en el formato CCYYMMDD (p.e. '20020801' para el 1 de agosto de 2002). Si le preocupa un problema de seguridad concreto en Gecko y sabe, por ejemplo, que todos los navegadores Gecko contienen una corrección para el problema a partir de una cierta fecha, puede comprobar que el valor de <code>navigator.productSub</code> es posterior a esa fecha.</p>
<p>También puede distinguir entre versiones "punto algo" usando una combinación de la etiqueta de la rama y la fecha de compilación. Por ejemplo, Netscape 6.2.2 y Netscape 6.2.3 tienen ambos la etiqueta de la rama 0.9.4.1, pero Netscape 6.2.2 tiene <code>navigator.productSub == '20020314'</code> mientras que Netscape 6.2.3 tiene <code>navigator.productSub == '20020508'</code>.</p>
<h4 id="El_suministrador_y_la_versión_(vendorversion)">El suministrador y la versión (<em>vendor/version</em>)</h4>
<p>Todos los navegadores Gecko devuelven el suministrador y la versión tanto en el objeto <code>navigator</code> como en la cadena de agente de usuario. La información de suministrador y versión, no obstante, no es tan útil como la etiqueta de la rama y la fecha de compilación y no recomendamos su uso. Sin embargo, si lo desea, puede distinguir los diferentes tipos de navegador Gecko usando estos valores. Como vimos previamente, el suministrador/versión aparece en la cadena de agente de usuario a continuación de la versión de Gecko.</p>
<pre class="eval">Mozilla/5.0 (...; rv:a.b.c) Gecko/CCYYMMDD Suministrador/versión
</pre>
<p>El suministrador está disponible en el objeto <code>navigator</code> como <code>navigator.vendor</code> mientras que la versión del suministrador está disponible como <code>navigator.vendorSub</code>.</p>
<table> <caption>Valores de suministrador/versión de Gecko</caption> <tbody> <tr> <th>Navegador</th> <th>Suministrador</th> <th>Versión</th> </tr> <tr> <td>Netscape 6.0</td> <td>Netscape6</td> <td>6.0</td> </tr> <tr> <td>Netscape 6.01</td> <td>Netscape6</td> <td>6.01</td> </tr> <tr> <td>Netscape 6.1</td> <td>Netscape6</td> <td>6.1</td> </tr> <tr> <td>Netscape 6.2</td> <td>Netscape6</td> <td>6.2</td> </tr> <tr> <td>Netscape 6.2.1</td> <td>Netscape6</td> <td>6.2.1</td> </tr> <tr> <td>Netscape 6.2.2</td> <td>Netscape6</td> <td>6.2.2</td> </tr> <tr> <td>Netscape 6.2.3</td> <td>Netscape6</td> <td>6.2.3</td> </tr> <tr> <td>CompuServe 7.0</td> <td>CS 2000 7.0</td> <td>7.0</td> </tr> <tr> <td>Netscape 7 Versión preliminar 1</td> <td>Netscape</td> <td>7.0b1</td> </tr> <tr> <td>Netscape 7.0</td> <td>Netscape</td> <td>7.0</td> </tr> <tr> <td>Netscape 7.01</td> <td>Netscape</td> <td>7.01</td> </tr> </tbody>
</table>
<h3 id="Ejemplos">Ejemplos</h3>
<p>Si es como yo, aprende mejor de ejemplos. Estudiar cómo usan otros autores la detección de navegador y las técnicas de codificación para múltiples navegadores es la <strong>mejor</strong> forma de aprender.</p>
<h4 id="Ejemplo_1_-_detección_de_características_basada_en_objetos">Ejemplo 1 - detección de características basada en objetos</h4>
<p>Este ejemplo ilustra el uso de la <em>detección de características</em>. Observe que Gecko 1.0 (Netscape 7) y posteriores implementan la característica propietaria de Internet Explorer clientWidth mientras que Netscape 6 no lo hacía. En este ejemplo, Netscape 7 e Internet Explorer 5+ usarán automáticamente clientWidth mientras que Netscape Navigator 4, Netscape 6, CompuServe 7 <em>y Opera</em> usarán innerWidth.</p>
<p>Compare cómo habría tenido que codificar esto mismo usando aproximaciones de detección basadas en <em>suministrador/versión</em>.</p>
<pre>if (windowRef.document.body &amp;&amp; typeof(windowRef.document.body.clientWidth) == 'number')
{
  // Gecko 1.0 (Netscape 7) e Internet Explorer 5+
  width = windowRef.document.body.clientWidth;
}
else if (typeof(windowRef.innerWidth) == 'number')
{
  // Navigator 4.x, Netscape 6.x, CompuServe 7 y Opera
  width = windowRef.innerWidth;
}
</pre>
<h4 id="Ejemplo_2_-_detección_de_características_basada_en_objetos">Ejemplo 2 - detección de características basada en objetos</h4>
<h5 id="Cobertura_a_múltiples_navegadores">Cobertura a múltiples navegadores</h5>
<p>Este ejemplo también ilustra el uso de la <em>detección de características</em> y muestra las complicaciones que pueden surgir de las implementaciones no estándar en otros navegadores.</p>
<pre>function moveElement(id, x, y)
{
  // mueve el elemento id a x,y
  // donde x,y son la posición horizontal
  // y vertical en píxeles

  var elm = null;
  if (document.getElementById)
  {
    // el navegador implementa parte de W3C DOM HTML
    // Gecko, Internet Explorer 5+, Opera 5+
    elm = document.getElementById(id);
  }
  else if (document.all)
  {
    // Internet Explorer 4 u Opera con el agente de usuario IE
    elm = document.all[id];
  }
  else if (document.layers)
  {
    // Navigator 4
    elm = document.layers[id];
  }

  if (!elm)
  {
    // navegador no admitido o elemento no encontrado
  }
  else if (elm.style)
  {
    // el navegador implementa parte de W3C DOM Style
    // Gecko, Internet Explorer 4+, Opera 5+

    if (typeof(elm.style.left) == 'number')
    {
      // Opera 5/6 no implementa el estándar correctamente
      // y asume que elm.style.left y propiedades similares
      // son números.
      elm.style.left = x;
      elm.style.top  = y;
    }
    else
    {
      // Gecko/Internet Explorer 4+
      // W3C DOM Style establece que elm.style.left es una cadena
      // que contiene la longitud seguida de la unidad, p.e. 10px
      // Gecko le permitirá omitir la unidad sólo en el modo con
      // vericuetos (Quirks mode).
      // Gecko REQUIERE la unidad si opera en el modo de estándares.
      elm.style.left = x + 'px';
      elm.style.top  = y + 'px';
    }
  }
  else if (typeof(elm.left) == 'number')
  {
    // Navigator 4
    elm.left = x;
    elm.top  = y;
  }
}
</pre>
<h5 id="Sólo_con_estándares">Sólo con estándares</h5>
<p>Considere lo sencilla que es esta función si la codifica de acuerdo a los estándares del W3C.</p>
<pre>function moveElement(id, x, y)
{
  // mueve el elemento id a x,y
  // donde x,y son la posición horizontal
  // y vertical en píxeles

  var elm = document.getElementById(id);

  if (elm)
  {
    elm.style.left = x + 'px';
    elm.style.top  = y + 'px';
  }
}
</pre>
<p>Pregúntese a sí mismo esto: "¿Dar cobertura a los <em>navegadores no estándar</em> compensa los costes de desarrollo y mantenimiento?"</p>
<h4 id="Ejemplo_3_-_Detectar_ramas_específicas_de_Gecko">Ejemplo 3 - Detectar ramas específicas de Gecko</h4>
<pre>// devuelve el valor rv de un agente de usuario Gecko
// como un número de coma flotante.
// devuelve -1 para navegadores no Gecko.
//          0 para navegadores previos a Netscape 6.1/Gecko 0.9.1
//          número &gt; 0 donde cada porción del valor rv
//          delimitado por . se tratará como un valor
//          entre 0-99.
//          p.e. para rv: 3.12.42,
//          getGeckoRv() devuelve 3.1242
//
function geckoGetRv()
{
  if (navigator.product != 'Gecko')
  {
    return -1;
  }
  var rvValue = 0;
  var ua      = navigator.userAgent.toLowerCase();
  var rvStart = ua.indexOf('rv:');
  var rvEnd   = ua.indexOf(')', rvStart);
  var rv      = ua.substring(rvStart+3, rvEnd);
  var rvParts = rv.split('.');
  var exp     = 1;

  for (var i = 0; i &lt; rvParts.length; i++)
  {
    var val = parseInt(rvParts[i]);
    rvValue += val / exp;
    exp *= 100;
  }

  return rvValue;
}


// determina si el navegador es cualquier Gecko de la
// rama &gt;= 1.0.1 o Netscape 6.2.x/CompuServe 7
// compilado tras el 1 de agosto de 2002

var rv    = geckoGetRv();
var found = false;

if (rv &gt;= 0)
{
  // Navegador Gecko
  if (navigator.productSub &gt; '20020801')
  {
    if (rv &gt;= 1.0001)
    {
      found = true;
    }
    else if (rv &gt;= 0.0904 &amp;&amp; rv &lt; 0.0905)
    {
      if (navigator.vendor == 'Netscape6' || navigator.vendor == 'CS 2000 7.0')
      {
        found = true;
      }
    }
  }
}
</pre>
<h4 id="Ejemplo_4_-_The_International_Herald-Tribune">Ejemplo 4 - <a class="external" href="http://www.iht.com">The International Herald-Tribune</a></h4>
<p>Este <a class="external" href="http://www.iht.com">sitio</a> ilustra muchas de las técnicas descritas en este artículo. Usan páginas <em>básicas</em> para los navegadores menos capaces combinadas con la detección de <em>características basada en objetos</em> para producir un sitio atractivo e interesante.</p>
<h4 id="Ejemplos_de_DevEdge">Ejemplos de DevEdge</h4>
<pre class="eval">   * xbDOM
   * xbMarquee
   * xbPositionableElement
   * xbAnimatedElement
</pre>
<h3 id="Conclusión">Conclusión</h3>
<p>Como hemos visto en este artículo, la historia de detección de navegadores es aún bastante complicada debido a las diferencias entre los navegadores modernos tales como Gecko/Internet Explorer 6 y los navegadores más antiguos o no estándares tales como Netscape Navigator 4. Puede decirse a sí mismo "¡Si todos los navegadores fueran tan buenos como Gecko e Internet Explorer 6, entonces mi trabajo sería mucho más fácil!".</p>
<p>Me gustaría dejarle con esta idea. En el pasado, los usuarios no tenían la posibilidad de escoger un navegador que implementara los estándares; sin embargo hoy tienen esa elección. No hay razón convincente para que nadie en el mundo continúe usando un navegador que no implemente los estándares. Sin embargo, en la medida en que los desarrolladores web continúen codificando arreglos para estos navegadores antiguos, los usuarios no tendrán una motivación para actualizar. Al cesar de dar cobertura a los navegadores antiguos, puede proporcionar una razón a los usuarios para actualizar. Esto no sólo les beneficiará a ellos, sino también a usted. Tener en cuenta <strong>sólo a navegadores basados en estándares</strong> puede reducir los costes de desarrollo y mantenimiento así como incrementar el <em>contenido dinámico y atractivo</em> que atraerá visitantes e incrementará su beneficio. La elección es suya... <strong>¡Decida apoyar a los estándares hoy!</strong></p>
<h3 id="Enlaces">Enlaces</h3>
<ul> <li><a href="/es/Manual_de_Compatibilidad_de_Gecko" title="es/Manual_de_Compatibilidad_de_Gecko">Manual de Compatibilidad de Gecko</a></li> <li><a class="external" href="http://www.mozilla.org/build/revised-user-agent-strings.html">Cadenas de agente de usuario de Mozilla</a></li> <li><a href="/es/DOM_Client_Object_Cross-Reference/navigator" title="es/DOM_Client_Object_Cross-Reference/navigator">Referencia de interacción de modelo de objetos del documento - navegador</a></li> <li><a href="/es/Cadenas_del_User_Agent_de_Gecko" title="es/Cadenas_del_User_Agent_de_Gecko">Cadenas del User Agent de Gecko</a></li> <li><a class="external" href="http://tools.ietf.org/html/rfc1945" title="http://tools.ietf.org/html/rfc1945">RFC 1945</a> - Hypertext Transfer Protocol -- HTTP 1.0</li> <li><a class="external" href="http://tools.ietf.org/html/rfc2068" title="http://tools.ietf.org/html/rfc2068">RFC 2068</a> - Hypertext Transfer Protocol -- HTTP 1.1</li> <li><a href="/es/Mozilla's_Quirks_Mode" title="es/Mozilla's_Quirks_Mode">Mozilla's Quirks Mode</a></li> <li><a class="external" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnie60/html/cssenhancements.asp">CSS Enhancements in Internet Explorer 6</a></li> <li><a class="external" href="http://www.w3.org/">W3C</a> <ul> <li><a class="external" href="http://www.w3.org/MarkUp/">W3C Markup</a></li> <li><a class="external" href="http://www.w3.org/TR/">W3C: Recomendaciones técnicas</a> <ul> <li><a class="external" href="http://www.w3.org/TR/html401/">W3C HTML 4.01</a></li> <li><a class="external" href="http://www.w3.org/TR/REC-CSS1/">W3C CSS 1</a></li> <li><a class="external" href="http://www.w3.org/TR/REC-CSS2/">W3C CSS 2</a></li> <li><a class="external" href="http://www.w3.org/TR/DOM-Level-2-Core/">W3C DOM Core 2</a></li> <li><a class="external" href="http://www.w3.org/TR/DOM-Level-2-HTML/">W3C DOM HTML 2</a></li> <li><a class="external" href="http://www.w3.org/TR/DOM-Level-2-Style/">W3C DOM Style 2</a></li> </ul> </li> </ul> </li>
</ul>
<div class="originaldocinfo">
<h3 id="Información_del_documento_original">Información del documento original</h3>
<ul> <li>Autor(s): Bob Clary</li> <li>Última actualización: 10 Feb 2003</li>
</ul>
</div>
<p></p>
