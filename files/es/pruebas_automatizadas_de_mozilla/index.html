---
title: Pruebas automatizadas de Mozilla
slug: Pruebas_automatizadas_de_Mozilla
tags:
  - Desarrollando_Mozilla
  - NecesitaRevisiónGramatical
  - NecesitaRevisiónTécnica
  - Pruebas_automatizadas
  - Todas_las_Categorías
translation_of: Mozilla/QA/Automated_testing
---
<p> </p>
<p>Esta página proporciona un compendio de opciones para pruebas automatizadas disponibles para los desarrolladores de Mozilla.</p>
<p>La mayoría de las pruebas automatizadas deberían ejecutarse sobre <code>make check</code>. <a href="/es/Cómo_añadir_una_prueba_en_el_momento_de_compilar" title="es/Cómo_añadir_una_prueba_en_el_momento_de_compilar">Cómo añadir una prueba en el momento de compilar</a> describe los pasos requeridos para añadir un programa de pruebas arbitrario al conjunto de tests. Dependiendo de lo que se necesite probar, puede usarse uno de los siguientes <em>frameworks</em> disponibles:</p>
<h3 id="Pruebas_unitarias" name="Pruebas_unitarias">Pruebas unitarias</h3>
<h4 id="xpcshell:_make_check" name="xpcshell:_make_check">xpcshell: make check</h4>
<p>Con <a href="/es/Escribir_pruebas_unitarias_basadas_en_xpcshell" title="es/Escribir_pruebas_unitarias_basadas_en_xpcshell">las ayudas para pruebas de xpcshell</a> escribes pruebas unitarias en JavaScript. El código se ejecutará más tarde en <a href="/es/Xpcshell" title="es/Xpcshell">xpcshell</a>, que es una consola JS con capacidad para <a href="/es/XPConnect" title="es/XPConnect">XPConnect</a>. Esto significa que tu código puede acceder a componentes XPCOM, pero no puede (fácilmente) abrir ventanas, probar el chrome de la aplicación, trabajar con el analizador HTML o usar DOM.</p>
<p>Hay disponible un <a href="/es/Servidor_HTTP_para_pruebas_unitarias" title="es/Servidor_HTTP_para_pruebas_unitarias">servidor HTTP</a> sencillo para su uso desde los tests xpcshell.</p>
<h4 id="Pruebas_mediante_c.C3.B3digo_compilado" name="Pruebas_mediante_c.C3.B3digo_compilado">Pruebas mediante código compilado</h4>
<p>Las funcionalidades no susceptibles de ser usadas en scripts y otras similares requieren que se escriban pruebas en C++ para ejecutar la funcionalidad. A pesar de las apariencias, existen muy pocas pruebas de esta naturaleza en el repositorio en este momento. Aunque en realidad hay muchas pruebas así (mira los contenidos de {{ Source("xpcom/tests") }} para ver muchos ejemplos), muchas de ellas sólo pueden ejecutarse manualmente, la mayoría devuelven fallos usando mensajes personalizados directamente a la consola (y, por tanto, no se puede revisar automáticamente si se han ejecutado correctamente), y muchas no se compilan correctamente o contienen numerosos errores.</p>
<p>A pesar de todo ello, se han escrito algunas pruebas en C++ que pueden ser ejecutadas automáticamente detectando los fallos. El mejor ejemplo actual en términos de facilidad de autoría es {{ Source("xpcom/tests/TestPipe.cpp") }}, que usa una cabecera especial de apoyo a pruebas dirigida a facilitar la escritura de tales pruebas. Mira <a href="/es/Compiled-code_automated_tests" title="es/Compiled-code_automated_tests">Compiled-code automated tests</a> para obtener detalles.</p>
<p>Escribir una prueba en C++ es más difícil que escribir una prueba en xpcshell, y el código es más difícil de mantener y modificar. <strong>¡No escribas pruebas en código compilado si no es necesario!</strong> Deberías usar estas pruebas únicamente cuando la funcionalidad a probar depende de interfaces, métodos o propiedades que no se pueden llamar desde scripts.</p>
<h3 id="Pruebas_gr.C3.A1ficas_y.2Fo_interactivas" name="Pruebas_gr.C3.A1ficas_y.2Fo_interactivas">Pruebas gráficas y/o interactivas</h3>
<h4 id="Mochitest" name="Mochitest">Mochitest</h4>
<p><a href="/es/Mochitest" title="es/Mochitest">Mochitest</a> es un <em>framework</em> basado en <a class="external" href="http://mochikit.com/">Mochikit</a> para escribir pruebas. Las pruebas se ejecutan en el navegador, desde un servidor web local (proporcionado por Mochitest). Los <em>scripts</em> de inicio que lo acompañan conceden diversos privilegios a localhost (crea un nuevo perfil en cada ejecución). Como resultado, las pruebas unitarias son libres de solicitar privilegios UniversalXPConnect (acceso a componentes XPCOM), abrir ventanas emergentes, etc. Mochitest es una buena solución si realmente necesitas un navegador completo para probar un problema. Por ejemplo, un test reciente verifica que el envío de formularios funciona en iframes fijados a <code>display:none</code>. Hay una <a href="/es/Mochitest#FAQ" title="es/Mochitest#FAQ">FAQ de Mochitest</a>.</p>
<h4 id="Pruebas_chrome_del_navegador" name="Pruebas_chrome_del_navegador">Pruebas chrome del navegador</h4>
<p>Las <a href="/es/Pruebas_chrome_del_navegador" title="es/Pruebas_chrome_del_navegador">pruebas chrome del navegador</a> están pensadas para usarse probando el código "chrome" de la interfaz, y otras características susceptibles de ser probadas desde el código JavaScript de chrome. Consisten en pequeños bloques de código JavaScript que se ejecutan en el ámbito de la ventana del navegador.</p>
<h4 id="Reftest" name="Reftest">Reftest</h4>
<p>{{ Source("layout/tools/reftest/README.txt", "Tests visuales del motor de dibujado (reftest)") }}. Cada test consiste normalmente en dos archivos - uno de ellos contiene un conjunto de etiquetas de prueba y el otro normalmente contiene un conjunto de etiquetas de referencia (aunque también es posible usar un PNG estático si se desea). El sistema trabaja comparando el renderizado de los dos archivos.</p>
<p>reftest se compila e instala ahora automáticamente cuando <code>ENABLE_TESTS</code> está activado (valor predeterminado) y hay pruebas de ejemplo en {{ Source("layout/reftests") }}.</p>
<p>Para ejecutar todos estos tests, escribe:</p>
<p><code>obj-debug/dist/MinefieldDebug.app/Contents/MacOS/firefox -reftest layout/reftests/reftest.list</code></p>
<p>(Se supone que "make lcheck" debe hacer esto por ti, pero actualmente no funciona).</p>
<p>Puedes buscar entre los resultados (usando "grep") la cadena "UNEXPECTED" o ejecutar una de las herramientas de procesado de salida de reftest listadas en el README.</p>
<p>Puede que quieras usar un perfil separado para ejecutar los tests (creando un perfil llamado "reftests" y añadiendo <code>-P reftests</code> a la línea que invoca la aplicación).</p>
<p>Para más información, acude a {{ Source("layout/tools/reftest/README.txt", "") }} y <a href="/es/Crear_pruebas_unitarias_basadas_en_reftest" title="es/Crear_pruebas_unitarias_basadas_en_reftest">el tutorial sobre cómo crear un test basado en reftest</a>.</p>
<h4 id="Crash_tests" name="Crash_tests">Crash tests</h4>
<p>El <em>framework</em> para pruebas de fallos está basado en el <em>framework</em> reftest, por lo que escribir y ejecutar pruebas es muy parecido. Cada test es un solo archivo y la prueba funciona cargando el archivo y ejecutándolo sin detener el programa ni lanzar aserciones (el <em>framework</em> no vigila explícitamente las aserciones en este momento, necesitarás hacer grep para localizarlas en la salida).</p>
<p>Para ejecutar todas las pruebas de fallos, escribe</p>
<p><code>obj-debug/dist/MinefieldDebug.app/Contents/MacOS/firefox -reftest testing/crashtest/crashtests.list</code></p>
<h3 id="Otra_documentaci.C3.B3n_de_referencia" name="Otra_documentaci.C3.B3n_de_referencia">Otra documentación de referencia</h3>
<p>Por favor, ignora la página {{ interwiki('wikimo', 'SoftwareTesting:Scratchpad', 'wikimo:SoftwareTesting:Scratchpad') }}, y mira únicamente {{ interwiki('wikimo', 'SoftwareTesting', 'wikimo:SoftwareTesting') }}. La pizarra (<em>Scratchpad</em>) es para trabajos en curso, y casi con toda seguridad estará obsoleta o tendrá documentación errónea.</p>
<p>También está {{ interwiki('wikimo', 'SoftwareTesting', 'wikimo:SoftwareTesting') }} y <a href="/es/Consejos_y_trucos_para_pruebas_automatizadas" title="es/Consejos_y_trucos_para_pruebas_automatizadas">Consejos y trucos para pruebas automatizadas</a> si estás buscando algo que leer.</p>
<p>Estos otros esfuerzos están en curso:</p>
<ul> <li>Puedes escribir programas de prueba independientes en C/C++. Esta opción puede usarse para probar funcionalidades no expuestas a través de XPCOM. <ul> <li><em>{{ Bug(343673) }} registra el trabajo de una persona, y parece que ha habido ciertos progresos</em>.</li> <li><em>{{ Bug(346703) }} contiene un ejemplo de cómo puede hacerse esto</em>.</li> </ul> </li> <li><a class="external" href="http://www.jsunit.net/">JSUnit</a> puede usarse para escribir pruebas que se ejecutan como contenido en el navegador. Es especialmente útil para tests DOM y del analizador sintáctico, pero no puede hacer nada que requiera privilegios chrome. <ul> <li>JsUnit probablemente no pueda usarse como un objetivo de compilación para make check de momento, ya que necesita una instancia completa de un navegador.</li> <li>{{ interwiki('wikimo', 'SoftwareTesting#Ideas to Collect', 'wikimo:SoftwareTesting#Ideas_to_Collect') }} lista algunos ejemplos de jsunit.</li> <li>Remítete a la documentación en {{ interwiki('wikimo', 'SoftwareTesting:Tools:jsUnit', 'wikimo:SoftwareTesting:Tools:jsUnit') }} para más información.</li> <li>Algunos <a class="external" href="http://beaufour.dk/xftst/">tests de XForms</a> usan JsUnit, a modo de ejemplo.</li> </ul> </li>
</ul>
<h3 id="Utilidades_y_frameworks_existentes_para_pruebas" name="Utilidades_y_frameworks_existentes_para_pruebas">Utilidades y <em>frameworks</em> existentes para pruebas</h3>
<p>(originalmente de {{ interwiki('wikimo', 'SoftwareTesting:Catalog_of_Automated_Tests', 'wikimo:SoftwareTesting:Catalog_of_Automated_Tests') }})</p>
<ul> <li><a class="external" href="http://wiki.mozilla.org/Performance:Tinderbox_Tests">Pruebas de rendimiento de Tinderbox</a></li> <li><a class="external" href="http://lxr.mozilla.org/mozilla/source/browser/components/places/tests/">Scripts de pruebas de Places</a></li> <li><a class="external" href="http://lxr.mozilla.org/mozilla/source/netwerk/test/unit/">Pruebas unitarias de Netwerk</a></li> <li><a class="external" href="http://lxr.mozilla.org/mozilla/source/js/tests/">Pruebas de javascript</a></li> <li><a class="external" href="http://lxr.mozilla.org/mozilla/source/security/nss/tests/">Pruebas de nss</a></li> <li><a class="external" href="http://landfill.mozilla.org/mxr-test/mozilla/source/nsprpub/pr/tests/">Pruebas de nspr</a></li> <li><a class="external" href="http://www.mozilla.org/newlayout/doc/regression_tests.html">Pruebas de posicionamiento (<em>layout</em>) - diferencias entre la salida de una versión de prueba y otra de referencia considerada correcta (<em>golden master</em>)</a></li> <li><a class="link-https" href="https://bugzilla.mozilla.org/show_bug.cgi?id=301260">copia en bz de los tests de netwerk para xmlserializer</a></li> <li><a class="external" href="http://www.w3.org/DOM/Test/">Los tests de W3C DOM</a> usan <a class="external" href="http://www.edwardh.com/jsunit/">jsunit</a></li> <li><a class="external" href="http://wiki.mozilla.org/XSLT_Tests">Tests de XSLT</a></li> <li><a class=" external" href="http://hixie.ch/tests/MANIFEST">http://hixie.ch/tests/MANIFEST</a> todos los tests de hixie</li> <li><a class=" external" href="http://hixie.ch/tests/MANIFEST-visual">http://hixie.ch/tests/MANIFEST-visual</a> subconjunto de tests de hixie que no es interactivo</li> <li><a class="external" href="http://www.allpeers.com/blog/2005/09/28/foxunit-unit-test-framework-for-firefox/">FoxUnit</a> - utilidad al estilo jUnit para firefox, por la gente de AllPeers</li>
</ul>
<p>{{ languages( { "en": "en/Mozilla_automated_testing" } ) }}</p>
