---
title: Приступая к работе с расширениями Firefox.
slug: XUL_School/Getting_Started_with_Firefox_Extensions
translation_of: >-
  Archive/Add-ons/Overlay_Extensions/XUL_School/Getting_Started_with_Firefox_Extensions
---
<p>{{ PreviousNext("XUL_School/Introduction", "XUL_School/The_Essentials_of_an_Extension") }}</p>

<h2 id="Что_такое_расширение_Firefox">Что такое расширение Firefox?</h2>

<blockquote>
<p>Расширения — это небольшие дополнения (<span>add-on</span>), добавляющие новые функциональные возможности приложениям <span>Mozilla</span>, таким как <span>Firefox</span> и <span>Thunderbird</span>. С их помощью в приложение можно добавить что угодно, от кнопки на панели инструментов до совершенно новой возможности. Они позволяют настраивать приложения с учётом личных потребностей каждого пользователя, которому могут понадобиться дополнительные функциональные возможности, сохраняя при этом приложения небольшими для скачивания.</p>
</blockquote>

<p>Взято со <a href="/ru/Extensions" title="ru/Extensions">страницы о расширениях</a>.</p>

<p>Как говорится в приведенной цитате, расширения - это маленькие приложения добавляющие что-нибудь новое к тому или иному приложению Mozilla. Этот учебник посвящён расширениям для Firefox, но те же самые (или схожие) принципы применимы для создания расширений для других приложений, таких как Thunderbird, Seamonkey и Flock.</p>

<p>Стоит также отметить, что определения <em>расширение</em> (extension) и <em>дополнение</em> (add-on) различаются. Все расширения - это дополнения, но дополнения также могут быть темами, плагинами, или языковыми пакетами. Данный учебник - о разработке расширений, но темы и языковые пакеты разрабатываются очень похожим образом. Плагины (plugins) полностью отличаются, поэтому здесь мы их рассматривать не будем. Вы можете прочитать больше о плагинах и их разработке на <a href="/en/Plugins" title="en/Plugins">странице о плагинах</a>.</p>

<p>Firefox предоставляет очень богатую и гибкую архитектуру, позволяющую разработчикам расширений добавлять дополнительные возможности, настраивать деятельность пользователей, а также полностью заменять и удалять части браузера. Склад дополнений (репозитарий)<span class="link-https"> Mozilla</span> - <a href="https://addons.mozilla.org" title="https://addons.mozilla.org">Mozilla Add-on repository (AMO)</a> - содержит множество расширений с разнообразной функциональностью. Например: фильтрация контента (<a class="link-https" href="https://addons.mozilla.org/en-US/firefox/addon/1865" title="https://addons.mozilla.org/en-US/firefox/addon/1865">AdBlock Plus</a>, <a class="link-https" href="https://addons.mozilla.org/en-US/firefox/addon/722" title="https://addons.mozilla.org/en-US/firefox/addon/722">NoScript</a>), взаимодействие с web-приложениями (<a class="link-https" href="https://addons.mozilla.org/en-US/firefox/addon/3615" title="https://addons.mozilla.org/en-US/firefox/addon/3615">Delicious Bookmarks</a>, <a class="link-https" href="https://addons.mozilla.org/en-US/firefox/addon/5202" title="https://addons.mozilla.org/en-US/firefox/addon/5202">eBay Companion</a>), web-разработка (<a class="link-https" href="https://addons.mozilla.org/en-US/firefox/addon/6622" title="https://addons.mozilla.org/en-US/firefox/addon/6622">DOM Inspector</a>, <a class="link-https" href="https://addons.mozilla.org/en-US/firefox/addon/1843" title="https://addons.mozilla.org/en-US/firefox/addon/1843">Firebug</a>), защита детей (<a class="link-https" href="https://addons.mozilla.org/en-US/firefox/addon/5881" title="https://addons.mozilla.org/en-US/firefox/addon/5881">Glubble For Families</a>). Существуют современные, достаточно функциональные и сложные расширения. Вы познакомитесь со многим, что может понадобится для разработки таких приложений. Фирма Glaxstar работал над тремя дополнениями из перечисленных выше.</p>

<p>Расширения сейчас существуют в трёх формах:</p>

<ol>
 <li>Дополнения расширений SDK (также известны как "Jetpacks" - "реактивные ранцы"). <a href="http://ru.wikipedia.org/wiki/SDK" title="http://ru.wikipedia.org/wiki/SDK">SDK - software development kit - (англ.) комплект средств разработки.</a></li>
 <li>Расширения начальной загрузки.</li>
 <li>Традиционные расширения.</li>
</ol>

<p>Если вы новичок в разработке дополнений, то комплект разработки  SDK - предоставляет хороший способ быстро создать простые расширения.  Этот учебник посвящён традиционным расширениям, которые создаются по-другому. Загрузочные расширения по сложности на ступеньку выше обычных, поэтому стоит изучить этот материал, прежде чем пытаться их делать.</p>

<p>Начнём обучение с анализа очень простого расширения.</p>

<h2 id="Расширение_Привет_мир!">Расширение "Привет, мир!"</h2>

<p>Примеры расширений и этот учебник в целом предназначаются для современных версий Firefox, но большинство из всего этого работает и на устаревших версиях.</p>

<p>Мы начнем с традиционного расширения "Привет, мир!" (Hello World). И начнём мы с его установки.  Щёлкните по ссылке ниже.</p>

<p><a href="/@api/deki/files/5139/=xulschoolhello1.xpi" title="https://developer.mozilla.org/@api/deki/files/5139/=xulschoolhello1.xpi">Установить "Hello World"</a></p>

<p>Это запустит либо установку, либо загрузку файлов - в зависимости от типа содержимого ("content type"), которое для этого файла использует веб-сервер. Тип содержимого, соответствующий запуску установки - <strong>"application/x-<strong>xpinstall"</strong></strong>. В данном случае тип содержимого установлен правильно и должно появлятся окно установки расширения.</p>

<p>Если тип содержимого установлен правильно, то вы, вероятно, получите уведомление о том, что сайту не позволено устанавливать дополнения в ваш браузер Firefox. Это защитный барьер, предотвращающий установку сайтами расширений без согласия пользователя. Он необходим из-за того, что вредоносное расширение может причинить вред такого же уровня, как и любая другая вредоносная программа: совершить кражу данных, удаление или замену файлов и вообще, вызвать нежелательное поведение. Все дополнения , опубликованные в <a class="link-https" href="https://addons.mozilla.org/" title="https://addons.mozilla.org/">AMO</a>, прошли через процесс предварительного рассмотрения, включающий проверку безопасности.</p>

<p>После загрузки файла, вы можете перенести ("drag and drop") его в область содержимого Firefox - и должна начаться установка.</p>

<p>Вы увидите окно с сообщением, что вы собираетесь установить расширение и с какой-нибудь дополнительной информацией, вроде имени автора. Вы увидите сообщение о том, что автор не может быть проверен. Проверить авторство возможно только у расширений, подписанных с помощью цифрового сертификата. Подписанные расширения редки, но позже мы рассмотрим, как их подписывать.</p>

<p>Нажмите на кнопку "Установить сейчас" ("Install Now"). После установки расширения, вам будет предложено перезапустить Firefox. Установка, удаление, включение и выключение расширения требуют перезагрузки для завершения операции . Исключение составляют плагины NPAPI, дополнения SDK расширений и загрузочные расширения. Имейте это в виду, если вы создаете расширение, манипулирующее другими расширениями или темами.</p>

<p>После установки, взгляните на главное окно Firefox и посмотрите не изменилось ли что-нибудь.</p>

<p>Вы это видели? В главном меню появилось новое подменю с надписью "Hello World!" ("Привет, мир!"). Если вы откроете меню, а затем в меню пункт ниже, вы увидите замечательное сообщение.  Нажмите на кнопку ОК, чтобы его закрыть.</p>

<p><img alt="" class="internal" src="https://developer.mozilla.org/@api/deki/files/4138/=helloworldalert.png" style="height: 126px; width: 326px;"></p>

<p>Это всё, что делает это расширение. Теперь давайте посмотрим на него внимательнее.</p>

<h2 id="Содержимое_Расширения">Содержимое Расширения</h2>

<p>Возможно, вы заметили, что файл установки расширения называется xulschoolhello1.xpi. <a href="/en/XPI" title="en/XPI">XPI</a> (произносится как "зиппи". "zippy" - с англ: живой, быстрый, энергичный, яркий) выступает в качестве кроссплатформенного установщика, потому что один файл установки может быть обработан на всех платформах, поддерживаемых браузером Firefox. Файлы XPI - это просто данные, сжатые архиватором ZIP, однако Firefox распознает расширение XPI и запускает процесс установки при попытке загрузить такой файл.</p>

<p>Чтобы заглянуть в файл XPI вам нужно сперва скачать его - не устанавливая. Если сервер запускает установку при нажатии на ссылку или кнопку - откажитесь, а затем нажмите правой кнопкой мыши на <a href="/@api/deki/files/5139/=xulschoolhello1.xpi" title="/@api/deki/files/5139/=xulschoolhello1.xpi">ссылке установки</a> и выберите вариант "Сохранить ссылку как..." ("Save Link As...").</p>

<p>Далее распакуем файл XPI.  Один из способов сделать это: переименовать расширение файла из <em>"xpi"</em> в <em>"zip"</em>. (в Линуксе это не требуется, т.к. расширения нужны только в декоративных целях, а программы распознают тип файла сами) Другой способ - открыть файл с помощью архиватора, поддерживающего стандарт ZIP.  Выберите и распакуйте архив в удобное место. Вы увидите структуру каталогов вроде этой:</p>

<ul>
 <li>xulschoolhello1
  <ul>
   <li>chrome.manifest</li>
   <li>install.rdf</li>
   <li>content
    <ul>
     <li>browserOverlay.xul</li>
     <li>browserOverlay.js</li>
    </ul>
   </li>
   <li>skin
    <ul>
     <li>browserOverlay.css</li>
    </ul>
   </li>
   <li>locale
    <ul>
     <li>en-US
      <ul>
       <li>browserOverlay.dtd</li>
       <li>browserOverlay.properties</li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

<p>Так много файлов для такой ерунды! Не волнуйтесь, мы скоро увидим назначение всех этих файлов и вы поймёте, что всё довольно просто. В следующем разделе мы изучим эти файлы и посмотрим, что же они делают.</p>

<p>{{ PreviousNext("XUL_School/Introduction", "XUL_School/The_Essentials_of_an_Extension") }}</p>

<p><span style="font-size: small;">This tutorial was kindly donated to Mozilla by Appcoast.</span></p>

<p>{{ languages( { "fr": "fr/Vulgarisation_XUL/Premiers_pas_avec_les_extensions_Firefox" } ) }}</p>

<div id="cke_pastebin" style="position: absolute; top: 1090.5px; width: 1px; height: 1px; overflow: hidden; left: -1000px;"> </div>
