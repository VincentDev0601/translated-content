---
title: XMLHttpRequest 在 Gecko1.8 发生的变化
slug: Mozilla/XMLHttpRequest_changes_for_Gecko_1.8
tags:
  - AJAX
  - Add-ons
  - Extensions
  - XMLHttpRequest
translation_of: Mozilla/XMLHttpRequest_changes_for_Gecko_1.8
---
<p>此文档描述了 <a href="/en-US/docs/Mozilla/Gecko">Gecko</a>'s <a href="/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequest</a> 的实现自1.7版本 (i.e., Firefox 1.0附带的Gecko版本)。发生的一些改变，这些变化仅仅作用于XUL扩展以及XUL程序，将不会作用于web程序。</p>

<h3 id="Changes_to_XMLHttpRequest.send" name="Changes_to_XMLHttpRequest.send"> XMLHttpRequest.send的改变</h3>

<p>如果你将一个 <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIInputStream">nsIInputStream</a> 实例传递给 <code>send</code> 方法, 那么流的起始部分将不再包含 Content-Length 和 Content-Type 头部信息. 并且 Content-Length 将由流的长度推断得出,  Content-Type 将必须通过调用 <code>setRequestHeader</code> 方法来手动指定. 更多关于这些要求的详细信息请查阅 <a class="external" href="http://lxr.mozilla.org/mozilla1.8/source/extensions/xmlextras/base/public/nsIXMLHttpRequest.idl#213">nsIXMLHttpRequest.idl</a>.</p>

<h3 id="Changes_to_XMLHttpRequest.onreadystatechange" name="Changes_to_XMLHttpRequest.onreadystatechange">XMLHttpRequest.onreadystatechange 的改变</h3>

<p>此属性现在的类型为 <code>nsIOnReadystatechangeHandler</code> 而不是 <code>nsIOnReadyStateChangeHandler</code>  。 (类型的名称中的 "S" 和 "C" 已变更为小写.)</p>
