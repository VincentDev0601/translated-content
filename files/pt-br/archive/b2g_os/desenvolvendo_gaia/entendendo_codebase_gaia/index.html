---
title: Entendendo o codebase do Gaia
slug: Archive/B2G_OS/Desenvolvendo_Gaia/Entendendo_codebase_gaia
tags:
  - Codebase do Gaia
  - Desenvolvimento
  - Gaia
  - Verificação de Estilo
translation_of: Archive/B2G_OS/Developing_Gaia/Understanding_the_Gaia_codebase
---
<div class="summary">
 <p><span class="seoSummary">Antes de começar a fazer suas próprias modificações no <a href="https://github.com/mozilla-b2g/gaia/">codebase do Gaia</a>, você deve entender os conceitos básicos de sua estrutura, e quais as convenções de código são utilizadas. Esse artigo cobre ambos os pontos.</span></p>
</div>
<h2 id="Estrutura_do_codebase_do_Gaia">Estrutura do codebase do Gaia</h2>
<p>A seção a seguir descreve partes mais importantes do codebase Gaia.</p>
<h3 id="apps">apps/</h3>
<p>Esse diretório contem todos os aplicativos principais do Gaia que aparecem na tela inicial — como o calendário e câmera — e os aplicativos básicos — como system, tela incial e teclado.<br>
 <br>
 Os aplicativos funcionam de maneiras ligeiramente diferentes, mas todos têm uma série de características comuns, tais como:</p>
<ul>
 <li><code>index.html</code>: o arquivo central do aplicativo</li>
 <li><code>manifest.webapp</code>: o arquivo de manifesto que define o aplicativo</li>
 <li><code>locales</code>: as strings de localização do aplicativo</li>
 <li><code>test</code>: testes unitários e integrados próprios do aplicativo</li>
 <li><code>js</code>, <code>style</code>: scripts e estilos do aplicativo</li>
 <li><code>resources</code>: imagens, sons e outros arquivos</li>
</ul>
<div class="note">
 <p><strong>Nota</strong>: Você pode encontrar mais informações sobre como os aplicativos realmente funcionam no <a href="/pt-BR/Firefox_OS/Platform/Gaia/Gaia_apps">guia de aplicativos Gaia</a>.</p>
</div>
<h3 id="build">build/</h3>
<p>Esse diretório contem os scripts de compilação.</p>
<h3 id="dev_apps">dev_apps/</h3>
<p>Esse diretório contem outros aplicativos que são incluídos por customização. Por exemplo, você quiser incluir aplicativos na sua própria compilação, devem ser armazenados nesse diretório.</p>
<div class="note">
 <p><strong>Nota</strong>: Para mais informações sobre customização do Gaia, leia nosso <a href="/pt-BR/Firefox_OS/Developing_Firefox_OS/Market_customizations_guide">Guia de customização</a>.</p>
</div>
<h3 id="keyboard">keyboard/</h3>
<p>Esse diretório contem dicionários e layouts para diferentes idiomas.</p>
<h3 id="locales">locales/</h3>
<p>Esse diretório contém o arquivo JSON <code>languages_all.json</code>, que define os idiomas suportados no Gaia. Para mais informações sobre como os aplicativos são localizados, leia <a href="/pt-BR/Apps/Build/Localization/Getting_started_with_app_localization">Primeiros passos com a localização de aplicativos</a>.</p>
<h3 id="shared">shared/</h3>
<p>Esse diretório contém diversos recursos que muitos aplicativos podem usar, os mais comuns são:</p>
<ul>
 <li><code>gaia/shared/js</code>: bibliotecas JavaScript que executam funções comuns</li>
 <li><code>l10n.js</code>: Biblioteca de localização que detecta o idioma do seu dispositivo a partir do local, e substitui as strings "localizáveis" do seu aplicativo com as strings referentes ao idioma armazenadas nos diretórios de localização. As strings "localizáveis" são identificadas nos elementos que possuem atributos <code>data-l10n-id</code>.</li>
 <li><code>gaia/shared/locales</code>: Recursos localizados para diferentes idiomas.</li>
 <li><code>gaia/shared/resources</code>: Itens comuns como ícones, sons de toque do telefone e alarmes.</li>
 <li><code>gaia/shared/style</code>: páginas de estilos e outros recursos como botões, barras de ferramentas, tabs, etc.</li>
 <li><code>gaia/shared/style_unstable</code>: recursos instáveis ou experimentais.</li>
 <li><code>gaia/shared/test</code>: JavaScript para definir os testes unitários e integrados.</li>
</ul>
<h3 id="tools">tools/</h3>
<p>Esse diretório contém ferramentas para scripts de compilação e testes.</p>
<h2 id="Estilo_de_codificação_Gaia">Estilo de codificação Gaia</h2>
<p>O Gaia segue <a href="http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml">o estilo de codificação em JavaScript do Google</a>.</p>
<p>Informações gerais:</p>
<ul>
 <li>Estilo de codificação: <a href="/pt-BR/docs/Mozilla/Developer_guide/Coding_Style#General_practices">Práticas gerais</a></li>
 <li>Estilo de codificação: <a href="/pt-BR/docs/Mozilla/Developer_guide/Coding_Style#JavaScript_practices">Práticas de JavaScript</a></li>
 <li>Estilo de codificação: <a href="/pt-BR/docs/Mozilla/Developer_guide/Coding_Style#Naming_and_Formatting_code">Nomeando e formatando o código</a></li>
</ul>
<h3 id="Regras_específicas">Regras específicas</h3>
<ol>
 <li>Certifique-se que os arquivos HTML possuem a declaração <code>&lt;!DOCTYPE html&gt;</code> (ou seja, documentos HTML5). Se não fizer a declaração o Internet Explorer 9 e anteriores irão carregá-lo no modo de compatibilidade..</li>
 <li>Inclua o comando <code>"use strict"</code> (exatamente como descrito, incluindo as aspas) no início dos arquivos JavaScript para colocá-los em <em>strict mode</em>.</li>
 <li>Sempre utilize dois espaços para identação ao invés de tabulação.</li>
 <li>Por favor use quebras de linha para separar blocos lógicos do código!</li>
 <li>Ao criar nomes de arquivos com mais de uma palavra use o caracter "sublinha" para separar as palavras, por exemplo: <code>like_this.js</code>.</li>
 <li>Use plics (') ao invés de aspas (") para strings.</li>
 <li>Use estruturas expandidas:
  <pre class="brush: js">Bad
if (expression) doSomething();

Correct
if (expression) {
  doSomething();
}</pre>
 </li>
 <li>Se você estiver trabalhando no <a href="/pt-BR/Firefox_OS/Platform/Gaia/Gaia_apps/System">aplicativo System</a>, verifique <a href="https://groups.google.com/forum/#!msg/mozilla.dev.gaia/rEhSrw6XmT4/UNvE7qW9pgYJ">esse guia</a>.</li>
</ol>
<h3 id="Verificação_do_estilo_de_codificação_por_commit">Verificação do estilo de codificação "por commit"</h3>
<p>Gaia usa <a href="http://www.jshint.com/">jshint</a> para verificar automaticamente estilos JS antes de cada commit. Uma vez que você submete um Pull Request ao repositório Gaia, o servidor Trevis (Github Continuous Integration) executará essa verificação para indicar se todos os estilos estão corretos.</p>
<p>O script de precommit está em <a href="https://github.com/mozilla-b2g/gaia/blob/master/tools/pre-commit">gaia/tools/pre-commit</a> e será copiado para o diretório do projet <code>.git/hooks</code> uma vez que o comando <code>make</code> é executado.</p>
<div class="note">
 <p><strong>Nota</strong>: Nós estamos acostumados a usar <a href="https://developers.google.com/closure/utilities/docs/linter_howto">gjslint</a> para verificar os estilos de codificação, mas já está obsoleta e o uso do jshing é mais rigoroso e produz resultados melhores. Estamos usando JSHint desde o Firefox 1.4 e o gjslint somente é recomendado para o legado que não foi migrado para o JSHint.</p>
</div>
<h3 id="Executando_verificações_manuais_via_Gaia">Executando verificações manuais via Gaia</h3>
<p>Antes de submeter uma correção, nós recomendamos que você execute JSHint manualmente para verificar algum erro de estilo.<br>
 <br>
 Você deve olhar no diretório <a href="https://github.com/mozilla-b2g/gaia/tree/master/build/jshint">gaia/build/jshint</a> para maiores detalhes sobre o jshint no Gaia. É fornecido um script para você:</p>
<pre class="brush: bash">$ make lint</pre>
<p>para executar automaticamente os verificadores de estilo gjslint e jshint. Ou voc&amp;e pode executar:</p>
<pre class="brush: bash">$ make hint</pre>
<p>para executar somente o verificador de estilo jshint.</p>
<div class="note">
 <p><strong>Nota</strong>: Se você quiser instalar o jshint sem usar o Gaia, use os seguintes comandos:</p>
 <pre class="brush: bash">npm install jshint -g
jshint myfile.js
</pre>
</div>
<p> </p>
