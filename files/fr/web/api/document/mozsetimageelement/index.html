---
title: Document.mozSetImageElement()
slug: Web/API/Document/mozSetImageElement
tags:
  - API
  - Arrière-plan
  - CSS
  - DOM
  - Image
  - Méthodes
translation_of: Web/API/Document/mozSetImageElement
---
<p>{{ ApiRef("DOM") }}</p>

<p>{{ gecko_minversion_header("2.0") }}{{ non-standard_header() }}</p>

<p>Change l'élément utilisé comme arrière-plan CSS par un arrière-plan avec un ID d'élément d'arrière-plan donné.</p>

<h2 id="Syntax">Syntaxe</h2>

<pre class="eval">document.mozSetImageElement(<em>imageElementId</em>, imageElement);
</pre>

<h3 id="Paramètres">Paramètres</h3>

<ul>
 <li><code>imageElementId</code> est une chaîne de caractères indiquant le nom d'un élément qui a été spécifié comme une image d'arrière-plan en utilisant la fonction CSS {{ cssxref("-moz-element") }}.</li>
 <li><code>imageElement</code> est le nouvel élément à utiliser comme arrière-plan correspondant à cette chaîne d'élément image. Spécifiez <code>null</code> pour supprimer l'élément d'arrière-plan.</li>
</ul>

<h2 id="Example">Exemple</h2>

<p>Cet exemple change l'arrière-plan d'un bloc {{ HTMLElement("div") }} chaque fois que l'utilisateur clique sur le bloc.</p>

<p><a href="/samples/domref/mozSetImageElement.html">Vue de cet exemple en direct</a>.</p>

<pre class="brush: html">&lt;style type="text/css"&gt;
  #mybox {
    background-image: -moz-element(#canvasbg);
    text-align: center;
    width: 400px;
    height: 400px;
    cursor: pointer;
  }
&lt;/style&gt;
</pre>

<p>Le CSS défini par le bloc {{ HTMLElement("style") }} ci-dessus est utilisé par notre {{ HTMLElement("div") }} pour afficher un élément, ayant l'id "canvasbg", en arrière-plan.</p>

<pre class="brush: js">var c = 0x00;
function clicked() {
  var canvas = document.createElement("canvas");
  canvas.setAttribute("width", 100);
  canvas.setAttribute("height", 100);

  var ctx = canvas.getContext('2d');
  ctx.fillStyle = "#" + c.toString(16) + "0000";
  ctx.fillRect(25, 25, 75, 75);

  c += 0x11;
  if (c &gt; 0xff) {
    c = 0x00;
  }

  document.mozSetImageElement("canvasbg", canvas);
}
</pre>

<p>Le code ici est appelé chaque fois que l'utilisateur clique sur l'élément {{ HTMLElement("div") }}. Il crée un nouveau {{ HTMLElement("canvas") }} avec la largeur et la hauteur définies à 100 pixels et le dessine dans un carré de 50 par 50 pixels. Chaque fois que la fonction est appelée, le carré est d'une couleur différente (sa composante rouge est augmentée à chaque fois), donc chaque fois que l'utilisateur clique sur l'élément, le fond est plus lumineux et rempli d'un motif plus lumineux de carreaux rouges.</p>

<p>Une fois le canvas dessiné, <code>document.mozSetImageElement()</code> est appelée pour définir l'arrière-plan de tout CSS en utilisant l'ID "canvasbg" comme ID d'élément d'arrière-plan pour être notre nouveau canvas.</p>

<h2 id="Specification">Spécifications</h2>

<p>Ne fait partie d'aucune spécification.</p>

<h2 id="See_also">Voir aussi</h2>

<ul>
 <li>{{ cssxref("-moz-element") }}</li>
</ul>
