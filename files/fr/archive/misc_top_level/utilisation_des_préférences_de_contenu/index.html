---
title: Utilisation des préférences de contenu
slug: Archive/Misc_top_level/Utilisation_des_préférences_de_contenu
tags:
  - Firefox 3
translation_of: Archive/Misc_top_level/Using_content_preferences
---
<p>
Firefox 3 introduit le concept de préférences de contenu. Ceci permet à du code s'exécutant dans le chrome (en d'autres mots : les extensions et le navigateur lui-même, pas les sites Web) d'enregistrer localement des préférences sur une base site par site. Cela permet d'écrire une extension permettant à l'utilisateur de personnaliser l'apparence de sites Web particuliers (augmenter la taille de la police sur des sites qui utilisent des tailles très petites, par exemple).
</p><p>Le service de préférences de contenu, implémenté par <code><a href="/fr/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService" title="">nsIContentPrefService</a></code>, offre des fonctions permettant de définir et de lire des préférences pour des sites particuliers ou dans l'espace global des préférences ; les préférences globales sont utilisées lorsqu'une préférence particulière à un site n'est pas disponible.
</p>
<h3 id="Exemple_:_d.C3.A9finition_et_lecture_de_pr.C3.A9f.C3.A9rences" name="Exemple_:_d.C3.A9finition_et_lecture_de_pr.C3.A9f.C3.A9rences"> Exemple : définition et lecture de préférences </h3>
<p>Cet exemple montre comment enregistrer une préférence et ensuite retrouver sa valeur.
</p>
<pre class="eval">var ioSvc = Components.classes["@mozilla.org/network/io-service;1"]
            .getService(Components.interfaces.nsIIOService);
var prefService = Components.classes["@mozilla.org/content-pref/service;1"]
                  .getService(Components.interfaces.nsIContentPrefService);

// Crée un objet URI référençant le site pour lequel enregistrer une préférence
var uri = ioSvc.newURI("<span class="nowiki">http://developer.mozilla.org/</span>", null, null);

// Définit la valeur de la préférence "devmo.somesetting" à "foo".

prefService.setPref(uri, "devmo.somesetting", "foo");

...

// Récupère la valeur de la préférence "devmo.somesetting".

var value = prefService.getPref(uri, "devmo.somesetting");
</pre>
<h3 id="Voir_.C3.A9galement" name="Voir_.C3.A9galement"> Voir également </h3>
<p><code><a href="/fr/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService" title="">nsIContentPrefService</a></code>, <code><a href="/fr/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefObserver" title="">nsIContentPrefObserver</a></code>
</p><p><br>
</p>
<div class="noinclude">
</div>
