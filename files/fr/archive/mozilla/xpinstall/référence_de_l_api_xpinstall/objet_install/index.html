---
title: Objet Install
slug: Archive/Mozilla/XPInstall/Référence_de_l_API_XPInstall/Objet_Install
tags:
  - Référence_de_l'API_XPInstall
translation_of: Archive/Mozilla/XPInstall/Reference/Install_Object
---
<p> </p>

<h2 id="Install" name="Install">Install</h2>

<p>Utilisez l'objet <code>Install</code> pour gérer le téléchargement et l'installation d'un logiciel à partir du gestionnaire d'installations XPI.</p>

<h3 id="Pr.C3.A9sentation" name="Pr.C3.A9sentation">Présentation</h3>

<p>L'objet <code>Install</code> est principalement utilisé dans les scripts d'installation. Dans tous les cas, l'objet <code>Install</code> est implicite, comme l'objet <code>window</code> dans les scripts de pages Web, et n'a pas besoin d'être mis en préfixe des méthodes de l'objet. Les deux lignes suivantes, par exemple, sont équivalentes :</p>

<pre class="eval">f = getFolder("Program");
f = Install.getFolder("Program");
</pre>

<p>Un script d'installation est composé d'appels à l'objet <code>Install</code> et possède généralement la structure suivante :</p>

<dl>
 <dt>Initialisation de l'installation</dt>
 <dd>Appelle initInstall avec le nom de l'installation et les informations nécessaires d'enregistrement et de version.</dd>
 <dt>Ajout des fichiers pour l'installation</dt>
 <dd>Ajoute les fichiers à installer en appelant getFolder pour obtenir les objets <code>fichier</code> et passe ces références objet à addFile autant de fois que nécessaire.</dd>
 <dt>Exécution de l'installation</dt>
 <dd>Vérifie que les fichiers ont été ajoutés avec succès (c'est-à-dire, en vérifiant les <a href="fr/R%c3%a9f%c3%a9rence_de_l'API_XPInstall/Codes_retourn%c3%a9s">codes d'erreur retournés</a> depuis les principales méthodes de l'installation), et poursuit l'installation si tout est correct :</dd>
</dl>

<pre class="eval">performOrCancel();
function performOrCancel()
{
  if (0 == getLastError())
     performInstall();
   else
     cancelInstall();
}
</pre>

<p>Pour des exemples de scripts complets, voir des <a href="fr/R%c3%a9f%c3%a9rence_de_l'API_XPInstall#Exemples">exemples de scripts</a>.</p>

<p><span class="comment">Interwiki Languages Links</span></p>
