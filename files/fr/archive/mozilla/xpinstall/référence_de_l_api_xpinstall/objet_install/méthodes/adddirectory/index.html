---
title: addDirectory
slug: >-
  Archive/Mozilla/XPInstall/Référence_de_l_API_XPInstall/Objet_Install/Méthodes/addDirectory
translation_of: Archive/Mozilla/XPInstall/Reference/Install_Object/Methods/addDirectory
---
<p> </p>
<h3 id="addDirectory" name="addDirectory">addDirectory</h3>
<p>Extrait un répertoire entier dans un emplacement temporaire.</p>
<h4 id="M.C3.A9thode_de" name="M.C3.A9thode_de">Méthode de</h4>
<p>Objet <a href="fr/R%c3%a9f%c3%a9rence_de_l'API_XPInstall/Objet_Install">Install</a></p>
<h4 id="Syntaxe" name="Syntaxe">Syntaxe</h4>
<pre class="eval">public int addDirectory (
   Chaîne xpiSourcePath);

public int addDirectory (
   Chaîne registryName,
   Chaîne xpiSourcePath,
   Objet localDirSpec,
   Chaîne relativeLocalPath);

public int addDirectory (
   Chaîne registryName,
   Chaîne version,
   Chaîne xpiSourcePath,
   Objet localDirSpec,
   Chaîne relativeLocalPath);

public int addDirectory (
   Chaîne registryName,
   Chaîne version,
   Chaîne xpiSourcePath,
   Objet localDirSpec,
   Chaîne relativeLocalPath,
   Booléen forceUpdate);

public int addDirectory (
   Chaîne registryName,
   InstallVersion version,
   Chaîne xpiSourcePath,
   Objet localDirSpec,
   Chaîne relativeLocalPath,
   Booléen forceUpdate);
</pre>
<h4 id="Param.C3.A8tres" name="Param.C3.A8tres">Paramètres</h4>
<p>La méthode <code>addDirectory</code> a les paramètres suivants :</p>
<dl>
 <dt>
  <code>registryName</code></dt>
 <dd>
  Le chemin, dans la
  <i>
   Client Version Registry</i>
  , du répertoire racine dans lequel les fichiers seront installés. Ce paramètre peut être un chemin absolu (commençant par un /), tel que <code>/royalairways/RoyalSW/executable</code> ou un chemin relatif (ne commençant pas par un /), tel que <code>executable</code>. Un chemin absolu est utilisé comme spécifié. Un chemin relatif est ajouté au nom d'enregistrement du paquetage comme spécifié par la paramètre <code>package</code> de la méthode <a href="fr/R%c3%a9f%c3%a9rence_de_l'API_XPInstall/Objet_Install/M%c3%a9thodes/initInstall">initInstall</a>. Ce paramètre peut également être vide, dans ce cas le paramètre <code>xpiSourcePath</code> est utilisé comme un chemin relatif. Remarquez que le chemin de registre n'est pas l'emplacement du logiciel sur l'ordinateur, il s'agit de l'emplacement des informations concernant le logiciel dans la
  <i>
   Client Version Registry</i>
  .</dd>
 <dt>
  <code>version</code></dt>
 <dd>
  Un objet <a href="fr/R%c3%a9f%c3%a9rence_de_l'API_XPInstall/Objet_InstallVersion">InstallVersion</a> ou une <code>Chaîne</code> de 1 à 4 valeurs entières délimitées par des points, telle que <code>1.17.1999.1517</code>. Pour les variantes de cette méthode, sans argument de version, la valeur de <a href="fr/R%c3%a9f%c3%a9rence_de_l'API_XPInstall/Objet_Install/M%c3%a9thodes/initInstall">initInstall</a> sera utilisée.</dd>
 <dt>
  <code>xpiSourcePath</code></dt>
 <dd>
  Une chaîne spécifiant l'emplacement du répertoire dans l'archive &lt;tt&gt;xpi&lt;/tt&gt;. Une chaîne vide ("") entraîne la création d'un sous-répertoire dans le registre sans extraire aucun fichier, ce qui peut être utile lors de la mise à jour d'un paquetage contenant des sous-composants, qui peuvent être mis à jour séparément. Lorsque <code>xpiSourcePath</code> est une chaîne vide, <code>registryName</code> ne peut pas être nul.</dd>
 <dt>
  <code>localDirSpec</code></dt>
 <dd>
  Un objet représentant un répertoire. Le fichier est installé dans ce répertoire sur la machine de l'utilisateur. Vous pouvez créer cet objet en passant une chaîne représentant le répertoire à la méthode <code>getFolder</code>.</dd>
 <dt>
  <code>subdir</code></dt>
 <dd>
  Le nom d'un répertoire à ajouter à <code>localDirSpec</code>, en utilisant '/' comme séparateur de chemin sans considération des conventions d'écriture de la plate-forme. Si <code>subdir</code> est absent, <code>null</code> ou <code>""</code>, les noms de fichiers sont ajoutés directement au nom du répertoire spécifié par <code>localDirSpec</code>.</dd>
 <dt>
  <code>flags</code></dt>
 <dd>
  Un champ optionnel, réservé pour un usage futur. Passe 0 comme valeur par défaut.</dd>
</dl>
<h4 id="Retour" name="Retour">Retour</h4>
<p>Un code d'erreur entier. Pour la liste complète des valeurs possibles, voir <a href="fr/R%c3%a9f%c3%a9rence_de_l'API_XPInstall/Codes_retourn%c3%a9s">Codes retournés</a>. Dans certains cas, <code>addDirectory</code> peut retourner d'autres erreurs.</p>
<h4 id="Description" name="Description">Description</h4>
<p>La méthode <code>addDirectory</code> met les fichiers du répertoire spécifié dans un emplacement temporaire. Pour déplacer les fichiers et tous les autres sous-composants vers leurs emplacements finaux, appelez la méthode <code>performInstall</code> après avoir ajouté avec succès tous les sous-composants. Voir également les notes à propos des binaires Macintosh dans <a href="fr/R%c3%a9f%c3%a9rence_de_l'API_XPInstall/Objet_Install/M%c3%a9thodes/addFile">addFile</a>.</p>
<p><span class="comment">Interwiki Languages Links</span></p>
<p>{{ languages( { "en": "en/XPInstall_API_Reference/Install_Object/Methods/addDirectory" } ) }}</p>
