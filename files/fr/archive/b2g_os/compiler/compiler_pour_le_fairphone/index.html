---
title: Compiler pour le Fairphone
slug: Archive/B2G_OS/Compiler/Compiler_pour_le_Fairphone
translation_of: Archive/B2G_OS/Building/Building_for_Fairphone
---
<h3 id="EXECUTER_B2GOS_sur_FAIRPHONE">EXECUTER B2GOS sur FAIRPHONE</h3>

<h5 id="Salut_à_tous_les_possesseurs_de_Fairphones_!_Ce_site_va_vous_permettre_de_construire_et_installer_tout_ce_qu'il_faut_pour_faire_tourner_B2GOS_sur_un_Fairphone_!">Salut à tous les possesseurs de Fairphones !<br>
 Ce site va vous permettre de construire et installer tout<br>
 ce qu'il faut pour faire tourner B2GOS sur un Fairphone !</h5>

<p> </p>

<p>Il comporte :</p>

<p>Les instructions de construction pour OSX<br>
 Les instructions de construction pour Ubuntu 14.4<br>
 Les instructions de construction pour Ubuntu 16.4<br>
 Comment flasher un appareil sans avoir à récupérer le code !</p>

<h4 id="Compiler_sur_OSX">Compiler sur OSX</h4>

<p>En raison de calculs faux ou différents pour la somme de contrôle md5, il ne sera pas possible de compiler sur OS X. Mais vous pouvez y aller avec un Linux virtuel !</p>

<h4 id="Compiler_sur_14.4.">Compiler sur 14.4.</h4>

<p>Enchaîner les commandes suivantes permet d'obtenir une version accélérée du processus.</p>

<p>-&gt; ouvrez un terminal (ctrl, alt et T)</p>

<p>Tapez ces commandes les unes après les autres :</p>

<pre class="brush: bash">sudo dpkg --add-architecture i386
sudo dpkg --add-architecture amd64
sudo apt-get install git
git config --global user.email " *votreemail@url.tld* "
git config --global user.name " *votrenomdutilisateur* "
git config --global color.ui False</pre>

<h5 id="Installation">Installation</h5>

<pre class="brush: bash">sudo apt-get install --no-install-recommends autoconf2.13 bison bzip2 ccache curl flex gawk gcc g++ g++-multilib git lib32ncurses5-dev lib32z1-dev libgconf2-dev zlib1g:amd64 zlib1g-dev:amd64 zlib1g:i386 zlib1g-dev:i386 libgl1-mesa-dev libx11-dev make zip lzop libxml2-utils openjdk-7-jdk nodejs unzip python mercurial &amp;&amp; ccache -M 50G &amp;&amp; echo $PWD &amp;&amp; echo "commanding: git clone git://github.com/mozilla-b2g/B2G.git" &amp;&amp; git clone git://github.com/mozilla-b2g/B2G.git &amp;&amp; cd B2G &amp;&amp; echo $PWD &amp;&amp; echo "commanding: ./config.sh fairphone2" &amp;&amp; ./config.sh fairphone2 &amp;&amp; echo $PWD &amp;&amp; echo "commanding: cd .. " &amp;&amp; cd .. &amp;&amp; echo $PWD &amp;&amp; echo "commanding: curl -O http://dl.google.com/android/repository/android-ndk-r11b-linux-x86_64.zip" &amp;&amp; curl -O http://dl.google.com/android/repository/android-ndk-r11b-linux-x86_64.zip &amp;&amp; echo "commanding: unzip android-ndk-r11b-linux-x86_64.zip -d ~/ -home dir- " &amp;&amp; unzip android-ndk-r11b-linux-x86_64.zip -d ~/ &amp;&amp; echo $PWD &amp;&amp; echo "commanding: curl -O https://nodejs.org/download/release/v4.4.7/node-v4.4.7.tar.gz" &amp;&amp; curl -O https://nodejs.org/download/release/v4.4.7/node-v4.4.7.tar.gz &amp;&amp; echo "commanding: tar -zxvf node-v4.4.7.tar.gz" &amp;&amp; tar -zxvf node-v4.4.7.tar.gz &amp;&amp; echo "commanding: cd node-v4.4.7" &amp;&amp; cd node-v4.4.7 &amp;&amp; echo "commanding: ./configure" &amp;&amp; ./configure &amp;&amp; echo "commanding: make install" &amp;&amp; sudo make install &amp;&amp; echo $PWD &amp;&amp; echo "commanding: back to B2G folder!" &amp;&amp; cd ~/B2G
</pre>

<p>vérifiez ou faites un .userconfig dans le dossier B2G et <strong>n'oubliez pas de remplacer le texte en GRAS par votre nom d'utilisateur système </strong>:</p>

<pre class="brush: bash">echo "*** entering .userconfig ***"
export B2G_ANDROID_NDK_PATH=/home/<strong>ÉCRIVEZ ICI VOTRE NOM D'UTILISATEUR SYSTÈME</strong>/android-ndk-r11b
echo "B2G_ANDROID_NDK_PATH=$B2G_ANDROID_NDK_PATH"
export B2G_DIR=${B2G_DIR:-$(cd $(dirname $0); pwd)}
echo "B2G_DIR=${B2G_DIR}"
echo "GECKO_OBJDIR = ${GECKO_OBJDIR}"
echo "*** exit .userconfig ***"</pre>

<p>Si vous souhaitez générer une version pour flasher votre téléphone :</p>

<pre class="brush: bash">./build.sh
</pre>

<p>Si vous voulez faire une version pour flasher votre téléphone et mettre à jour le build communautaire :</p>

<pre class="brush: bash">./build.sh blobfree
</pre>

<p>Si vous rencontrez des erreurs et que vous avez besoin d'un log de la compilation :</p>

<pre class="brush: bash">./build.sh showcommands 2&gt;&amp;1 | tee build.log
</pre>

<p>à chaque fois que vous lancez une nouvelle compilation, nettoyez les répertoires avec ces commandes :</p>

<pre class="brush: bash">sudo rm -rf out &amp;&amp; rm -rf objdir-gecko &amp;&amp; rm -rf gaia/profile* &amp;&amp; ccache -C
</pre>

<p> </p>

<h4 id="B2G-Installer_pour_Fairphone">B2G-Installer pour Fairphone</h4>

<p>Vous n'avez pas envie de construire votre propre B2G OS ? Vous pouvez flasher votre appareil avec le module b2g-installer et un build communautaire !</p>
