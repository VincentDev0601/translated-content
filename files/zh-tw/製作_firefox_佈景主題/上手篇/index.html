---
title: 上手篇
slug: 製作_Firefox_佈景主題/上手篇
translation_of: Archive/Mozilla/Creating_a_sking_for_Firefox_Getting_Started
---
<p>
</p>
<h3 id=".E6.BA.96.E5.82.99" name=".E6.BA.96.E5.82.99"> 準備 </h3>
<p>下載最新版的 Firefox 後安裝，別忘了也把 DOM 觀察器裝上去。
</p>
<h4 id=".E8.A7.A3.E5.A3.93.E7.B8.AE.E4.BD.88.E6.99.AF.E4.B8.BB.E9.A1.8C" name=".E8.A7.A3.E5.A3.93.E7.B8.AE.E4.BD.88.E6.99.AF.E4.B8.BB.E9.A1.8C"> 解壓縮佈景主題 </h4>
<p>你可以修改任何既有的 Firefox 佈景主題，但為方便起見我們就以 Winstripe（Firefox 預設主題）為範例。這個主題放在 Firefox 安裝目錄的 &lt;tt&gt;classic.jar&lt;/tt&gt; 檔案中，而 jar 檔其實就是改了名字的 zip 檔，你可用與開 zip 檔相同的程式開啟 jar 並解壓縮其中的檔案。如果應用程式看不懂這改了檔名的 zip 檔，你可以自己將其改名為 &lt;tt&gt;classic.zip&lt;/tt&gt; 再解壓縮。
</p>
<h5 id="Classic.jar_.E4.BD.8D.E7.BD.AE" name="Classic.jar_.E4.BD.8D.E7.BD.AE"> Classic.jar 位置 </h5>
<p><b>Linux:</b> /usr/lib/MozillaFirefox/chrome/classic.jar
</p><p><b>Windows:</b> \Program Files\Mozilla Firefox\chrome\classic.jar
</p><p><b>Mac OS X:</b>
</p>
<ul>
<li>先進入應用程式的資料夾</li> <li>按住 Control 再點選 Firefox 應用程式圖示，選擇 Show Package Contents。</li> <li>接著再進入 contents/MacOS/Chrome/classic.jar</li>
</ul>
<p>將 &lt;tt&gt;classic.jar&lt;/tt&gt; 複製到另一個容易取用的資料夾（建議放到 &lt;tt&gt;Classic&lt;/tt&gt; 中）後解壓縮，記得確保目錄結構完整。
</p>
<div class="note">註：你可以將 &lt;tt&gt;.jar&lt;/tt&gt; 附檔名改為 &lt;tt&gt;.jar.zip&lt;/tt&gt; 再解壓縮</div>
<h4 id=".E7.9B.AE.E9.8C.84" name=".E7.9B.AE.E9.8C.84"> 目錄 </h4>
<p>在 &lt;tt&gt;classic.jar&lt;/tt&gt; 中有個名為 &lt;tt&gt;skin&lt;/tt&gt; 的目錄及 &lt;tt&gt;preview.png&lt;/tt&gt; 和 &lt;tt&gt;icon.png&lt;/tt&gt; 兩個檔案。
</p>
<dl><dt>&lt;tt&gt;skin&lt;/tt&gt;
</dt><dd>&lt;tt&gt;skin&lt;/tt&gt; 裡頭就只有另一個 &lt;tt&gt;classic&lt;/tt&gt; 目錄，內含佈景主題的各種檔案。
</dd><dt>&lt;tt&gt;classic&lt;/tt&gt;
</dt><dd>&lt;tt&gt;classic&lt;/tt&gt; 內有以下各種目錄。
</dd><dt>&lt;tt&gt;browser&lt;/tt&gt;
</dt><dd>&lt;tt&gt;browser&lt;/tt&gt; 內含工具列、書籤管理員及選項視窗的各種圖示。
</dd><dt>&lt;tt&gt;global&lt;/tt&gt;
</dt><dd>所有指定瀏覽器物件顯示方式的重要 CSS 檔差不多都在 &lt;tt&gt;global&lt;/tt&gt; 裡面，所以這也是佈景主題最重要的目錄。
</dd><dt>&lt;tt&gt;mozapps&lt;/tt&gt;
</dt><dd>&lt;tt&gt;mozapps&lt;/tt&gt; 則有擴充套件管理員和更新精靈等視窗的樣式及圖示。
</dd><dt>&lt;tt&gt;help&lt;/tt&gt;
</dt><dd>&lt;tt&gt;help&lt;/tt&gt; 裡頭是說明手冊視窗的佈景檔。
</dd><dt>&lt;tt&gt;communicator&lt;/tt&gt;
</dt><dd>沒什麼重要的東西，基本上不理它也無妨。
</dd></dl>
<h4 id=".E5.AE.89.E8.A3.9D.E4.BD.A0.E7.9A.84.E6.96.B0.E4.BD.88.E6.99.AF.E4.B8.BB.E9.A1.8C" name=".E5.AE.89.E8.A3.9D.E4.BD.A0.E7.9A.84.E6.96.B0.E4.BD.88.E6.99.AF.E4.B8.BB.E9.A1.8C"> 安裝你的新佈景主題 </h4>
<p>由於動態變更佈景主題在設定上有點麻煩，所以修改 Firefox 佈景主題後若想看到變化，得先學學重新包裝內建主題使其可安裝於 Firefox 的方法。接下來我們將把範例佈景主題命名為「My_Theme」，當然你也可以換成自己喜歡的名字。
</p>
<h5 id=".E8.A4.87.E8.A3.BD.E5.BF.85.E5.82.99.E6.AA.94.E6.A1.88" name=".E8.A4.87.E8.A3.BD.E5.BF.85.E5.82.99.E6.AA.94.E6.A1.88"> 複製必備檔案 </h5>
<p>首先要將所有檔案以正確的目錄結構放好，所以請先建立一個名為 &lt;tt&gt;My_Theme&lt;/tt&gt; 的目錄，然後在其中放進剛剛解壓縮出來的 &lt;tt&gt;browser&lt;/tt&gt;、&lt;tt&gt;global&lt;/tt&gt;、&lt;tt&gt;communicator&lt;/tt&gt;、&lt;tt&gt;help&lt;/tt&gt; 及 &lt;tt&gt;mozapps&lt;/tt&gt; 目錄，當然 &lt;tt&gt;icon.png&lt;/tt&gt; 和 &lt;tt&gt;preview.png&lt;/tt&gt; 也要放進去。沒錯，這表示此新目錄內容結構與 &lt;tt&gt;classic.jar&lt;/tt&gt; 沒什麼不同。
</p>
<h5 id=".E5.BB.BA.E7.AB.8B.E5.AE.89.E8.A3.9D.E6.AA.94" name=".E5.BB.BA.E7.AB.8B.E5.AE.89.E8.A3.9D.E6.AA.94"> 建立安裝檔 </h5>
<h6 id="Contents.rdf" name="Contents.rdf"> Contents.rdf </h6>
<p>複製 <a href="zh_tw/%e8%a3%bd%e4%bd%9c_Firefox_%e4%bd%88%e6%99%af%e4%b8%bb%e9%a1%8c/contents.rdf">contents.rdf</a> 並放進 &lt;tt&gt;\My_Theme&lt;/tt&gt; 中，接著以文字編輯器開啟之。這個檔案是用以描述佈景主題的小型 XML 資料庫。
</p><p>在程式碼中搜尋所有的「My_Place」字串，換成你自己取的佈景主題名稱。
</p><p>而接下來的「包裝」區段列出你修改了哪些瀏覽器外觀組件。假設這個佈景包含 Chatzilla 的樣式，那麼也要加上另一行類似的程式、改以指定 Chatzilla。不過，以下的清單就是我們要改的所有東西，所以只要把藍色字稍加修改，符合你在本節之前所用的主題名稱即可。
</p>
<pre class="eval">&lt;RDF:li resource="urn:mozilla:skin:<span style="color: #00D; font-weight: bold;">My_Theme</span>:communicator"/&gt;
&lt;RDF:li resource="urn:mozilla:skin:<span style="color: #00D; font-weight: bold;">My_Theme</span>:editor"/&gt;
&lt;RDF:li resource="urn:mozilla:skin:<span style="color: #00D; font-weight: bold;">My_Theme</span>:global"/&gt;
&lt;RDF:li resource="urn:mozilla:skin:<span style="color: #00D; font-weight: bold;">My_Theme</span>:messenger"/&gt;
&lt;RDF:li resource="urn:mozilla:skin:<span style="color: #00D; font-weight: bold;">My_Theme</span>:navigator"/&gt;
</pre>
<p>接著存檔，關閉文字編輯器。
</p>
<h6 id="install.rdf" name="install.rdf"> install.rdf </h6>
<p>複製 <a href="zh_tw/%e8%a3%bd%e4%bd%9c_Firefox_%e4%bd%88%e6%99%af%e4%b8%bb%e9%a1%8c/install.rdf">install.rdf</a> 並放進 &lt;tt&gt;My_Theme&lt;/tt&gt; 目錄中，接著以文字編輯器開啟之。這個檔案也是用以描述佈景主題的小型 XML 資料庫。
</p>
<pre>  &lt;Description about="urn:mozilla:install-manifest"&gt;
  &lt;em:id&gt;{Themes_UUID}&lt;/em:id&gt;
  &lt;em:version&gt;Themes_Version&lt;/em:version&gt;
</pre>
<p>在第一段中你必須為佈景主題製作一個 <a href="zh_tw/%e8%a3%bd%e4%bd%9c_Firefox_%e4%bd%88%e6%99%af%e4%b8%bb%e9%a1%8c/UUID">UUID</a>，然後為此佈景主題版本編號。將上述兩種資訊填入第一段後繼續看下去。
</p><p>接著要更改目標應用程式（在本例為 Firefox）的相容版本，填入最低需求跟最高相容限制版本號：
</p>
<pre>  &lt;em:targetApplication&gt;
    &lt;Description&gt;
      &lt;!-- Firefox 的 UUID --&gt;
      &lt;em:id&gt;{ec8030f7-c20a-464f-9b0e-13a3a9e97384}&lt;/em:id&gt;
      &lt;em:minVersion&gt;Min_FF_Version&lt;/em:minVersion&gt;
      &lt;em:maxVersion&gt;Max_FF_Version&lt;/em:maxVersion&gt;
    &lt;/Description&gt;
  &lt;/em:targetApplication&gt;
</pre>
<p>設定相容版本號可以確保佈景主題不會裝在無法相容（或還沒測試過）的版本上，以免出問題。
</p>
<h4 id="CSS_.E6.AA.94.E6.A1.88" name="CSS_.E6.AA.94.E6.A1.88"> CSS 檔案 </h4>
<p>這些目錄中的 CSS 檔告訴瀏覽器顯示按鈕或其他控制項的方式、在哪裡放圖、邊框跟內距該有多少等資訊。
</p><p>接下來的例子，我們就試著更動標準按鈕。
</p><p>將 &lt;tt&gt;global&lt;/tt&gt; 目錄裡的 &lt;tt&gt;button.css&lt;/tt&gt; 開啟於純文字編輯器中，接著找到 <code>button {</code> 區段；這一段定義一般狀態（滑鼠未移上、未停用也未選取）下的按紐圖樣。
</p><p>將 <code>background-color:</code> 特性值改為 <code>DarkBlue</code>，再將 <code>color:</code> 改為 <code>White</code>，接著存檔。file.
</p>
<div class="note">原作者註：<i>more after I get done with some tests</i></div>
<h4 id=".E9.87.8D.E6.96.B0.E5.8C.85.E8.A3.9D_JAR" name=".E9.87.8D.E6.96.B0.E5.8C.85.E8.A3.9D_JAR"> 重新包裝 JAR </h4>
<p>現在只要用任一種 ZIP 壓縮軟體依下列目錄結構重新包裝 JAR 檔就行了：
</p> <pre>/browser/*
/communicator/*
/global/*
/help/*
/mozapps/*
/contents.rdf
/install.rdf
/icon.png
/preview.png
  </pre>
<p>要注意的是別連 &lt;tt&gt;My_Theme&lt;/tt&gt; 這個上層目錄都壓了進去，不然稍後用拖曳方式安裝佈景時會在毫無錯誤訊息的情況下安裝失敗。
</p>
<h4 id=".E5.BE.9E_Web_.E4.B8.8A.E5.AE.89.E8.A3.9D.E4.BD.88.E6.99.AF.E4.B8.BB.E9.A1.8C" name=".E5.BE.9E_Web_.E4.B8.8A.E5.AE.89.E8.A3.9D.E4.BD.88.E6.99.AF.E4.B8.BB.E9.A1.8C"> 從 Web 上安裝佈景主題 </h4>
<p>若想直接從網路上安裝佈景主題的 JAR 檔，可以採用這樣的 JavaScript：
</p>
<pre class="eval">&lt;a href='javascript:InstallTrigger.installChrome(InstallTrigger.SKIN,
 "<span style="color: #00D; font-weight: bold;">myskin.jar</span>", "<span style="color: #00D; font-weight: bold;">My Skin Theme</span>")'&gt;安裝佈景主題&lt;/a&gt;
</pre>
<p>而若要將 JAR 檔下載至硬碟後安裝，則可使用<a class="external" href="http://www.eightlines.com/neil/mozskin/installjar.html">這個表單</a>。
</p><p>當然你也可以直接開啟 Mozilla 的佈景主題視窗，然後將 .jar 檔案拖進去安裝。
</p><p>將資料夾轉為 .jar 檔超簡單，只要先壓縮成 .zip 檔後將「.zip」更名為「.jar」就行了。
</p>
<div class="noinclude">
</div>
{{ languages( { "de": "de/Theme_erstellen/Einf\u00fchrung", "en": "en/Creating_a_Skin_for_Firefox//Getting_Started", "es": "es/Creando_un_skin_para_Firefox/Como_empezar", "fr": "fr/Cr\u00e9er_un_th\u00e8me_pour_Firefox//Premiers_pas", "ja": "ja/Creating_a_Skin_for_Firefox/Getting_Started", "pl": "pl/Tworzenie_sk\u00f3rek_dla_Firefoksa/Zaczynamy", "pt": "pt/Criando_um_visual_para_o_Firefox/Iniciando" } ) }}
